<!doctype html>
<html lang="de">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Kampfstil Selbsttest</title>
    <style>
      :root {
        --bg: #f5f2ed;
        --surface: #ffffff;
        --surface2: #ede9e2;
        --font-display:
          "Impact", "Haettenschweiler", "Arial Narrow", Arial, sans-serif;
        --font-body: system-ui, -apple-system, "Segoe UI", Roboto, sans-serif;
        --font-mono:
          "SF Mono", "Fira Code", "Fira Mono", "Roboto Mono", monospace;
        --border: #d8d2c8;
        --accent: #8a6a1f;
        --accent2: #b5891e;
        --text: #1a1714;
        --muted: #8a8278;
      }
      *,
      *::before,
      *::after {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
      }
      body {
        background: var(--bg);
        color: var(--text);
        font-family: var(--font-body);
        line-height: 1.6;
        overflow-x: hidden;
      }
      nav {
        position: sticky;
        top: 0;
        z-index: 200;
        background: var(--surface);
        border-bottom: 1px solid var(--border);
        display: flex;
        align-items: center;
        gap: 0;
        height: 48px;
        padding: 0 20px;
      }
      .nav-logo {
        font-family: var(--font-display);
        font-size: 20px;
        letter-spacing: 2px;
        color: var(--accent);
        margin-right: 24px;
        cursor: pointer;
        white-space: nowrap;
      }
      .nav-tab {
        font-family: var(--font-mono);
        font-size: 10px;
        letter-spacing: 2px;
        text-transform: uppercase;
        padding: 0 16px;
        height: 100%;
        display: flex;
        align-items: center;
        cursor: pointer;
        color: var(--muted);
        border-bottom: 2px solid transparent;
        transition:
          color 0.18s,
          border-color 0.18s,
          background 0.18s;
        white-space: nowrap;
        user-select: none;
        position: relative;
      }
      .nav-tab:hover {
        color: var(--accent);
        background: rgba(138, 106, 31, 0.05);
      }
      .nav-tab:active {
        transform: translateY(1px);
      }
      .nav-tab.active {
        color: var(--accent);
        border-bottom-color: var(--accent);
        background: rgba(138, 106, 31, 0.04);
      }
      @media (max-width: 600px) {
        nav {
          padding: 0 12px;
          overflow-x: auto;
        }
        .nav-logo {
          font-size: 16px;
          margin-right: 16px;
        }
        .nav-tab {
          padding: 0 10px;
          font-size: 9px;
        }
      }
      .page {
        display: none;
      }
      .page.active {
        display: block;
      }
      #page-home {
        min-height: calc(100vh - 48px);
      }
      #page-home.active {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        padding: 60px 24px;
        text-align: center;
      }
      #page-home h1 {
        font-family: var(--font-display);
        font-size: clamp(44px, 7vw, 86px);
        letter-spacing: 3px;
        line-height: 0.92;
        color: var(--text);
        margin-bottom: 8px;
      }
      #page-home h1 span {
        color: var(--accent);
      }
      .sport-cards {
        display: flex;
        gap: 16px;
        flex-wrap: wrap;
        justify-content: center;
      }
      .sport-card {
        width: 220px;
        border: 1px solid var(--border);
        border-radius: 6px;
        background: var(--surface);
        padding: 28px 22px 24px;
        cursor: pointer;
        transition: all 0.2s;
        position: relative;
        overflow: hidden;
        text-align: left;
      }
      .sport-card:hover {
        border-color: var(--accent2);
        transform: translateY(-3px);
        box-shadow: 0 8px 28px rgba(0, 0, 0, 0.07);
      }
      .sport-card:active {
        transform: translateY(-1px);
        box-shadow: 0 4px 14px rgba(0, 0, 0, 0.07);
        transition: transform 0.08s;
      }
      .sport-card::before {
        content: attr(data-emoji);
        position: absolute;
        font-size: 110px;
        right: -14px;
        bottom: -18px;
        opacity: 0.07;
        pointer-events: none;
      }
      .sport-card-tag {
        font-family: var(--font-mono);
        font-size: 9px;
        letter-spacing: 2px;
        text-transform: uppercase;
        color: var(--accent2);
        margin-bottom: 8px;
      }
      .sport-card h2 {
        font-family: var(--font-display);
        font-size: 28px;
        letter-spacing: 1px;
        color: var(--text);
        margin-bottom: 8px;
      }
      .sport-card p {
        font-size: 12px;
        color: var(--muted);
        line-height: 1.65;
        margin-bottom: 18px;
      }
      .sport-card-btn {
        font-family: var(--font-display);
        font-size: 13px;
        letter-spacing: 2px;
        background: var(--accent);
        color: var(--bg);
        border: none;
        padding: 9px 18px;
        border-radius: 2px;
        cursor: pointer;
        pointer-events: none;
      }
      .sport-card:hover .sport-card-btn {
        background: var(--text);
      }
      #page-library {
        padding-bottom: 60px;
      }
      .library-hero {
        padding: 48px 40px 36px;
        border-bottom: 1px solid var(--border);
        background: var(--surface2);
        position: relative;
        overflow: hidden;
      }
      .library-hero::before {
        content: "üìö";
        position: absolute;
        font-size: 220px;
        right: -20px;
        top: -40px;
        opacity: 0.06;
        pointer-events: none;
      }
      .library-hero .header-label {
        font-family: var(--font-mono);
        font-size: 11px;
        letter-spacing: 3px;
        text-transform: uppercase;
        color: var(--accent2);
        margin-bottom: 10px;
      }
      .library-hero h2 {
        font-family: var(--font-display);
        font-size: clamp(36px, 5vw, 60px);
        letter-spacing: 2px;
        color: var(--text);
        line-height: 1;
        margin-bottom: 12px;
      }
      .library-hero p {
        color: var(--muted);
        font-size: 14px;
        max-width: 560px;
        line-height: 1.7;
      }
      .lib-sport-tabs {
        padding: 16px 40px;
        border-bottom: 1px solid var(--border);
        display: flex;
        gap: 10px;
        flex-wrap: wrap;
        background: var(--surface);
        position: sticky;
        top: 48px;
        z-index: 50;
      }
      .lib-sport-tab {
        font-family: var(--font-mono);
        font-size: 10px;
        letter-spacing: 2px;
        text-transform: uppercase;
        padding: 8px 18px;
        border: 1px solid var(--border);
        border-radius: 20px;
        cursor: pointer;
        color: var(--muted);
        background: transparent;
        transition: all 0.18s;
      }
      .lib-sport-tab:hover {
        border-color: var(--accent2);
        color: var(--accent2);
      }
      .lib-sport-tab.active {
        background: var(--accent);
        color: var(--bg);
        border-color: var(--accent);
      }
      .lib-content {
        padding: 36px 40px;
      }
      .lib-sport-section {
        display: none;
      }
      .lib-sport-section.active {
        display: block;
      }
      .lib-archetypes-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
        gap: 16px;
        margin-bottom: 48px;
      }
      .lib-archetype-card {
        border: 1px solid var(--border);
        border-radius: 6px;
        background: var(--surface);
        overflow: hidden;
        cursor: pointer;
        transition: all 0.2s;
      }
      .lib-archetype-card:hover {
        border-color: var(--accent2);
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.06);
      }
      .lib-archetype-card.expanded {
        border-color: var(--accent);
      }
      .lib-card-header {
        padding: 18px 20px;
        display: flex;
        align-items: center;
        gap: 14px;
        border-bottom: 1px solid transparent;
        transition: border-color 0.2s;
      }
      .lib-archetype-card.expanded .lib-card-header {
        border-bottom-color: var(--border);
      }
      .lib-card-color {
        width: 8px;
        height: 44px;
        border-radius: 4px;
        flex-shrink: 0;
      }
      .lib-card-titles {
        flex: 1;
      }
      .lib-card-name {
        font-family: var(--font-display);
        font-size: 20px;
        letter-spacing: 1px;
        color: var(--text);
      }
      .lib-card-sub {
        font-size: 12px;
        color: var(--muted);
        margin-top: 2px;
      }
      .lib-card-chevron {
        font-size: 16px;
        color: var(--muted);
        transition: transform 0.2s;
      }
      .lib-archetype-card.expanded .lib-card-chevron {
        transform: rotate(180deg);
      }
      .lib-card-body {
        display: none;
        padding: 20px;
      }
      .lib-archetype-card.expanded .lib-card-body {
        display: block;
      }
      .lib-body-desc {
        font-size: 14px;
        color: var(--text);
        line-height: 1.85;
        margin-bottom: 16px;
      }
      .lib-body-desc.muted {
        color: var(--muted);
        font-size: 13.5px;
      }
      .lib-sw-row {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 12px;
        margin-bottom: 16px;
      }
      .lib-sw-box {
        background: var(--surface2);
        border-radius: 4px;
        padding: 14px 16px;
      }
      .lib-sw-title {
        font-family: var(--font-mono);
        font-size: 9px;
        letter-spacing: 2px;
        text-transform: uppercase;
        margin-bottom: 10px;
      }
      .lib-sw-title.pos {
        color: #4a7c4e;
      }
      .lib-sw-title.neg {
        color: #9b3a2f;
      }
      .lib-sw-list {
        list-style: none;
      }
      .lib-sw-list li {
        font-size: 12.5px;
        padding: 5px 0;
        border-bottom: 1px solid var(--border);
        display: flex;
        gap: 8px;
      }
      .lib-sw-list li:last-child {
        border-bottom: none;
      }
      .lib-sw-list li.pos::before {
        content: "+";
        color: #4a7c4e;
        font-weight: 700;
        flex-shrink: 0;
      }
      .lib-sw-list li.neg::before {
        content: "-";
        color: #9b3a2f;
        font-weight: 700;
        flex-shrink: 0;
      }
      .lib-boxers {
        display: flex;
        gap: 8px;
        flex-wrap: wrap;
        margin-bottom: 16px;
      }
      .lib-boxer-chip {
        font-family: var(--font-mono);
        font-size: 9px;
        letter-spacing: 1px;
        text-transform: uppercase;
        padding: 4px 10px;
        border: 1px solid var(--border);
        border-radius: 20px;
        color: var(--muted);
      }
      .lib-matchup-box {
        background: var(--surface2);
        border-radius: 4px;
        padding: 12px 14px;
        font-size: 13px;
        line-height: 1.7;
        color: var(--muted);
      }
      .lib-matchup-box strong {
        color: var(--accent2);
      }
      .lib-start-btn {
        font-family: var(--font-display);
        font-size: 14px;
        letter-spacing: 2px;
        background: var(--accent);
        color: var(--bg);
        border: none;
        padding: 10px 22px;
        border-radius: 2px;
        cursor: pointer;
      }
      .lib-start-btn:hover {
        background: var(--text);
      }
      .lib-compare-section {
        margin-top: 0;
      }
      .lib-compare-title {
        font-family: var(--font-display);
        font-size: 22px;
        letter-spacing: 1px;
        color: var(--accent);
        margin-bottom: 20px;
        padding-bottom: 12px;
        border-bottom: 1px solid var(--border);
      }
      .lib-compare-table {
        width: 100%;
        border-collapse: collapse;
        font-size: 12.5px;
      }
      .lib-compare-table th {
        font-family: var(--font-mono);
        font-size: 9px;
        letter-spacing: 2px;
        text-transform: uppercase;
        padding: 10px 14px;
        text-align: left;
        background: var(--surface2);
        border-bottom: 1px solid var(--border);
        color: var(--muted);
      }
      .lib-compare-table td {
        padding: 10px 14px;
        border-bottom: 1px solid var(--border);
        vertical-align: top;
        line-height: 1.6;
      }
      .lib-compare-table tr:last-child td {
        border-bottom: none;
      }
      .lib-compare-table tr:hover td {
        background: rgba(200, 180, 130, 0.04);
      }
      .lib-compare-name {
        font-family: var(--font-display);
        font-size: 16px;
        letter-spacing: 1px;
        display: flex;
        align-items: center;
        gap: 8px;
      }
      .lib-dot {
        width: 8px;
        height: 8px;
        border-radius: 50%;
        flex-shrink: 0;
      }
      .test-page-inner {
        display: none;
      }
      .test-page-inner.active {
        display: block;
      }
      .test-header {
        position: relative;
        padding: 48px 40px 40px;
        border-bottom: 1px solid var(--border);
        overflow: hidden;
      }
      .test-header::before {
        content: attr(data-emoji);
        position: absolute;
        font-size: 240px;
        right: -20px;
        top: -40px;
        opacity: 0.07;
        pointer-events: none;
      }
      .header-label {
        font-family: var(--font-mono);
        font-size: 11px;
        letter-spacing: 3px;
        text-transform: uppercase;
        color: var(--accent2);
        margin-bottom: 10px;
      }
      .test-header h1 {
        font-family: var(--font-display);
        font-size: clamp(48px, 6vw, 80px);
        letter-spacing: 2px;
        line-height: 0.92;
        color: var(--text);
      }
      .test-header h1 span {
        color: var(--accent);
      }
      .test-header p {
        margin-top: 14px;
        color: var(--muted);
        font-size: 14px;
        max-width: 500px;
        line-height: 1.7;
      }
      .progress-bar-wrap {
        position: sticky;
        top: 48px;
        z-index: 100;
        background: var(--bg);
        border-bottom: 1px solid var(--border);
        padding: 11px 40px;
        display: flex;
        align-items: center;
        gap: 16px;
      }
      .progress-track {
        flex: 1;
        height: 3px;
        background: var(--border);
        border-radius: 2px;
      }
      .progress-fill {
        height: 100%;
        background: linear-gradient(90deg, var(--accent2), var(--accent));
        border-radius: 2px;
        transition: width 0.4s ease;
      }
      .progress-text {
        font-family: var(--font-mono);
        font-size: 11px;
        color: var(--muted);
        white-space: nowrap;
      }
      .questions-section {
        padding: 16px 0 60px;
      }
      .attr-section-header {
        padding: 13px 40px 9px;
        font-family: var(--font-display);
        font-size: 16px;
        letter-spacing: 2px;
        color: var(--accent2);
        border-bottom: 1px solid var(--border);
        background: var(--surface2);
        display: flex;
        align-items: center;
        gap: 12px;
        position: sticky;
        top: 92px;
        z-index: 10;
      }
      .attr-key-badge {
        font-family: var(--font-mono);
        font-size: 9px;
        background: var(--accent2);
        color: var(--bg);
        padding: 3px 7px;
        border-radius: 3px;
        letter-spacing: 1px;
      }
      .q-block {
        padding: 28px 40px;
        border-bottom: 1px solid var(--border);
        transition: background 0.2s;
      }
      .q-block.answered {
        background: rgba(200, 180, 130, 0.03);
      }
      .q-header {
        display: flex;
        align-items: flex-start;
        gap: 18px;
        margin-bottom: 16px;
      }
      .q-num {
        font-family: var(--font-display);
        font-size: 34px;
        color: var(--border);
        line-height: 1;
        min-width: 42px;
        transition: color 0.3s;
      }
      .q-block.answered .q-num {
        color: var(--accent2);
      }
      .q-situation {
        font-size: 12.5px;
        color: var(--accent2);
        font-style: italic;
        margin-bottom: 3px;
        font-family: var(--font-mono);
      }
      .q-title {
        font-family: var(--font-display);
        font-size: 19px;
        letter-spacing: 1px;
        color: var(--text);
      }
      .options-grid {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 10px;
        padding-left: 60px;
      }
      .opt-card {
        border: 1px solid var(--border);
        border-radius: 4px;
        padding: 12px 14px;
        cursor: pointer;
        transition: all 0.18s;
        background: var(--surface);
        position: relative;
        display: flex;
        align-items: flex-start;
        gap: 10px;
      }
      .opt-card:hover {
        border-color: var(--accent2);
        background: var(--surface2);
      }
      .opt-card.selected {
        border-color: var(--accent);
        background: rgba(200, 180, 130, 0.07);
      }
      .opt-card.selected::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 2px;
        background: var(--accent);
        border-radius: 4px 4px 0 0;
      }
      .opt-letter {
        font-family: var(--font-display);
        font-size: 22px;
        color: var(--border);
        line-height: 1;
        min-width: 18px;
        transition: color 0.2s;
      }
      .opt-card.selected .opt-letter,
      .opt-card:hover .opt-letter {
        color: var(--accent);
      }
      .opt-text {
        font-size: 12.5px;
        color: var(--text);
        line-height: 1.55;
        padding-top: 2px;
      }
      .cta-bar {
        padding: 24px 40px;
        border-top: 1px solid var(--border);
        display: flex;
        align-items: center;
        gap: 18px;
        background: var(--surface);
        position: sticky;
        bottom: 0;
        z-index: 50;
      }
      .cta-info {
        font-size: 13px;
        color: var(--muted);
        flex: 1;
      }
      .btn-primary {
        font-family: var(--font-display);
        font-size: 16px;
        letter-spacing: 2px;
        background: var(--accent);
        color: var(--bg);
        border: none;
        padding: 12px 34px;
        cursor: pointer;
        border-radius: 2px;
        transition: all 0.2s;
        white-space: nowrap;
      }
      .btn-primary:hover {
        background: var(--text);
        transform: translateY(-1px);
      }
      .btn-primary:disabled {
        opacity: 0.3;
        cursor: not-allowed;
        transform: none;
      }
      .btn-secondary {
        font-family: var(--font-display);
        font-size: 14px;
        letter-spacing: 2px;
        background: transparent;
        color: var(--accent);
        border: 1px solid var(--accent);
        padding: 11px 22px;
        cursor: pointer;
        border-radius: 2px;
        transition: all 0.2s;
        white-space: nowrap;
      }
      .btn-secondary:hover {
        background: rgba(200, 180, 130, 0.1);
      }
      #results-area {
        display: none;
      }
      #results-area.visible {
        display: block;
      }
      .results-hero {
        padding: 52px 40px;
        border-bottom: 1px solid var(--border);
        position: relative;
        overflow: hidden;
      }
      .results-hero::after {
        content: attr(data-style);
        position: absolute;
        right: -10px;
        bottom: -22px;
        font-family: var(--font-display);
        font-size: 130px;
        color: rgba(180, 155, 100, 0.05);
        letter-spacing: 4px;
        pointer-events: none;
        white-space: nowrap;
      }
      .result-label {
        font-family: var(--font-mono);
        font-size: 10px;
        letter-spacing: 3px;
        text-transform: uppercase;
        color: var(--accent2);
        margin-bottom: 8px;
      }
      .result-name {
        font-family: var(--font-display);
        font-size: clamp(40px, 6vw, 68px);
        letter-spacing: 2px;
        color: var(--text);
        line-height: 1;
        margin-bottom: 16px;
      }
      .result-desc {
        font-size: 15px;
        color: var(--muted);
        max-width: 560px;
        line-height: 1.8;
        margin-bottom: 26px;
      }
      .kpi-row {
        display: flex;
        gap: 16px;
        flex-wrap: wrap;
      }
      .kpi {
        background: var(--surface);
        border: 1px solid var(--border);
        border-radius: 4px;
        padding: 12px 20px;
        min-width: 120px;
      }
      .kpi-label {
        font-family: var(--font-mono);
        font-size: 9px;
        letter-spacing: 2px;
        text-transform: uppercase;
        color: var(--muted);
        margin-bottom: 4px;
      }
      .kpi-val {
        font-family: var(--font-display);
        font-size: 28px;
        color: var(--accent);
        line-height: 1;
      }
      .hybrid-notice {
        margin-top: 16px;
        padding: 12px 16px;
        background: rgba(181, 137, 30, 0.08);
        border-left: 3px solid var(--accent2);
        border-radius: 0 4px 4px 0;
        font-size: 13px;
        color: var(--accent);
        max-width: 520px;
      }
      .style-deepdive {
        padding: 36px 40px;
        border-bottom: 1px solid var(--border);
      }
      .section-title {
        font-family: var(--font-display);
        font-size: 18px;
        letter-spacing: 1px;
        color: var(--accent);
        margin-bottom: 16px;
        padding-bottom: 10px;
        border-bottom: 1px solid var(--border);
      }
      .deepdive-intro {
        font-size: 14px;
        line-height: 1.85;
        color: var(--text);
        margin-bottom: 13px;
        max-width: 820px;
      }
      .deepdive-body {
        color: var(--muted);
        font-size: 13.5px;
      }
      .sw-grid {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 16px;
        margin-top: 22px;
      }
      .sw-box {
        background: var(--surface);
        border: 1px solid var(--border);
        border-radius: 4px;
        padding: 16px 18px;
      }
      .sw-title {
        font-family: var(--font-mono);
        font-size: 9px;
        letter-spacing: 2px;
        text-transform: uppercase;
        margin-bottom: 10px;
      }
      .sw-title.pos {
        color: #4a7c4e;
      }
      .sw-title.neg {
        color: #9b3a2f;
      }
      .sw-list {
        list-style: none;
      }
      .sw-list li {
        font-size: 12.5px;
        line-height: 1.6;
        padding: 6px 0;
        border-bottom: 1px solid var(--border);
        display: flex;
        gap: 9px;
        color: var(--text);
      }
      .sw-list li:last-child {
        border-bottom: none;
      }
      .sw-list li.pos::before {
        content: "+";
        color: #4a7c4e;
        font-weight: 700;
        flex-shrink: 0;
      }
      .sw-list li.neg::before {
        content: "-";
        color: #9b3a2f;
        font-weight: 700;
        flex-shrink: 0;
      }
      .results-grid {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 0;
        border-bottom: 1px solid var(--border);
      }
      @media (max-width: 900px) {
        .results-grid {
          grid-template-columns: 1fr;
        }
      }
      .result-panel {
        padding: 32px 40px;
        border-right: 1px solid var(--border);
      }
      .result-panel:last-child {
        border-right: none;
      }
      .panel-title {
        font-family: var(--font-display);
        font-size: 16px;
        letter-spacing: 1px;
        color: var(--accent);
        margin-bottom: 16px;
        padding-bottom: 9px;
        border-bottom: 1px solid var(--border);
      }
      .training-list {
        list-style: none;
      }
      .training-list li {
        padding: 10px 0;
        border-bottom: 1px solid var(--border);
        font-size: 13px;
        line-height: 1.7;
        display: flex;
        gap: 10px;
      }
      .training-list li::before {
        content: "‚Üí";
        color: var(--accent2);
        font-family: var(--font-mono);
        flex-shrink: 0;
        margin-top: 1px;
      }
      .dist-bar-row {
        margin-bottom: 12px;
      }
      .dist-bar-header {
        display: flex;
        justify-content: space-between;
        font-size: 11.5px;
        margin-bottom: 4px;
      }
      .dist-bar-name {
        font-weight: 500;
      }
      .dist-bar-val {
        font-family: var(--font-mono);
        color: var(--muted);
      }
      .dist-track {
        height: 4px;
        background: var(--border);
        border-radius: 2px;
        overflow: hidden;
      }
      .dist-fill {
        height: 100%;
        border-radius: 2px;
        transition: width 0.8s ease;
      }
      .matchup-box {
        background: var(--surface);
        border: 1px solid var(--border);
        border-radius: 4px;
        padding: 16px;
        font-size: 13px;
        line-height: 1.8;
        margin-top: 16px;
      }
      .matchup-box strong {
        color: var(--accent2);
      }
      .boxers-row {
        display: flex;
        gap: 8px;
        flex-wrap: wrap;
        margin-top: 10px;
      }
      .boxer-chip {
        font-family: var(--font-mono);
        font-size: 9px;
        letter-spacing: 1px;
        text-transform: uppercase;
        padding: 4px 10px;
        border: 1px solid var(--border);
        border-radius: 20px;
        color: var(--muted);
        background: var(--surface);
      }
      .answers-section {
        padding: 32px 40px;
        border-bottom: 1px solid var(--border);
      }
      .answer-group {
        border: 1px solid var(--border);
        border-radius: 4px;
        margin-bottom: 12px;
        overflow: hidden;
      }
      .answer-group-header {
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: 10px 14px;
        background: var(--surface2);
        border-bottom: 1px solid var(--border);
      }
      .ans-key {
        font-family: var(--font-mono);
        font-size: 10px;
        letter-spacing: 1px;
        color: var(--muted);
      }
      .ans-attr-label {
        font-size: 11px;
        color: var(--muted);
        margin-top: 1px;
      }
      .ans-result-badge {
        font-family: var(--font-mono);
        font-size: 9px;
        letter-spacing: 1.5px;
        text-transform: uppercase;
        background: var(--accent);
        color: var(--bg);
        padding: 3px 10px;
        border-radius: 20px;
      }
      .ans-q-rows {
        padding: 0 14px;
      }
      .ans-q-row {
        display: grid;
        grid-template-columns: 22px 1fr 1fr;
        gap: 10px;
        padding: 8px 0;
        border-bottom: 1px solid var(--border);
        font-size: 12.5px;
        align-items: start;
      }
      .ans-q-row:last-child {
        border-bottom: none;
      }
      .ans-q-label {
        font-family: var(--font-display);
        font-size: 17px;
        color: var(--accent);
        line-height: 1.2;
      }
      .ans-q-text {
        color: var(--text);
        line-height: 1.5;
      }
      .ans-q-situation {
        color: var(--muted);
        font-size: 11.5px;
        line-height: 1.5;
        font-style: italic;
      }
      .print-bar {
        padding: 20px 40px;
        border-top: 1px solid var(--border);
        display: flex;
        gap: 12px;
        align-items: center;
        flex-wrap: wrap;
      }
      .print-note {
        font-size: 11.5px;
        color: var(--muted);
      }
      /* BJJ Signature boxes */
      .sig-grid {
        display: grid;
        grid-template-columns: repeat(4, 1fr);
        gap: 10px;
        margin-top: 16px;
      }
      @media (max-width: 700px) {
        .sig-grid {
          grid-template-columns: repeat(2, 1fr);
        }
      }
      .sig-box {
        background: var(--surface);
        border: 1px solid var(--border);
        border-radius: 4px;
        padding: 12px 14px;
      }
      .sig-label {
        font-family: var(--font-mono);
        font-size: 8px;
        letter-spacing: 1.5px;
        text-transform: uppercase;
        color: var(--muted);
        margin-bottom: 6px;
      }
      .sig-bar-track {
        height: 3px;
        background: var(--border);
        border-radius: 2px;
        margin-bottom: 4px;
      }
      .sig-bar-fill {
        height: 100%;
        border-radius: 2px;
        transition: width 0.8s ease;
      }
      .sig-val {
        font-family: var(--font-mono);
        font-size: 11px;
        color: var(--accent);
      }
      /* BJJ Matchup matrix */
      .matchup-matrix-wrap {
        overflow-x: auto;
        margin-top: 12px;
      }
      .matchup-matrix {
        border-collapse: collapse;
        font-size: 10px;
        white-space: nowrap;
      }
      .matchup-matrix th,
      .matchup-matrix td {
        padding: 6px 8px;
        border: 1px solid var(--border);
        text-align: center;
        font-family: var(--font-mono);
      }
      .matchup-matrix th {
        background: var(--surface2);
        color: var(--muted);
        font-size: 9px;
        letter-spacing: 1px;
      }
      .matchup-matrix td.self {
        background: rgba(138, 106, 31, 0.08);
      }
      .matchup-matrix td.adv-a {
        color: #4a7c4e;
        font-weight: 700;
      }
      .matchup-matrix td.adv-b {
        color: #9b3a2f;
      }
      .matchup-matrix td.even {
        color: var(--muted);
      }
      /* Distribution bar for archetypes */
      .arch-dist-wrap {
        margin-top: 16px;
      }
      .arch-dist-row {
        display: flex;
        align-items: center;
        gap: 10px;
        margin-bottom: 8px;
      }
      .arch-dist-label {
        font-family: var(--font-mono);
        font-size: 9px;
        letter-spacing: 1px;
        text-transform: uppercase;
        color: var(--muted);
        width: 80px;
        flex-shrink: 0;
      }
      .arch-dist-track {
        flex: 1;
        height: 6px;
        background: var(--border);
        border-radius: 3px;
        overflow: hidden;
      }
      .arch-dist-fill {
        height: 100%;
        border-radius: 3px;
        transition: width 0.8s ease;
      }
      .arch-dist-pct {
        font-family: var(--font-mono);
        font-size: 10px;
        color: var(--accent);
        width: 34px;
        text-align: right;
      }
      /* Notes */
      .note-item {
        font-size: 12.5px;
        color: var(--muted);
        padding: 6px 0 6px 12px;
        border-left: 2px solid var(--accent2);
        margin-bottom: 8px;
        line-height: 1.6;
      }
      /* Legal */
      .legal-page {
        max-width: 800px;
        margin: 0 auto;
        padding: 48px 40px 80px;
      }
      .legal-header {
        margin-bottom: 40px;
        padding-bottom: 24px;
        border-bottom: 2px solid var(--border);
      }
      .legal-header h2 {
        font-family: var(--font-display);
        font-size: clamp(32px, 5vw, 52px);
        letter-spacing: 2px;
        color: var(--text);
        line-height: 1;
        margin-top: 8px;
      }
      .legal-body {
        font-size: 14px;
        line-height: 1.8;
        color: var(--text);
      }
      .legal-section {
        margin-bottom: 36px;
        padding-bottom: 36px;
        border-bottom: 1px solid var(--border);
      }
      .legal-section:last-child {
        border-bottom: none;
      }
      .legal-section h3 {
        font-family: var(--font-display);
        font-size: 18px;
        letter-spacing: 1px;
        color: var(--accent);
        margin-bottom: 12px;
      }
      .legal-section p {
        color: var(--muted);
        margin-bottom: 8px;
      }
      .legal-section a {
        color: var(--accent2);
        text-decoration: none;
        border-bottom: 1px solid var(--accent2);
      }
      #site-footer {
        background: var(--surface2);
        border-top: 1px solid var(--border);
        padding: 24px 40px;
      }
      .footer-inner {
        max-width: 1280px;
        margin: 0 auto;
        display: flex;
        align-items: center;
        gap: 20px;
        flex-wrap: wrap;
      }
      .footer-logo {
        font-family: var(--font-display);
        font-size: 14px;
        letter-spacing: 2px;
        color: var(--accent);
        margin-right: 8px;
      }
      .footer-links {
        display: flex;
        gap: 16px;
      }
      .footer-links span {
        font-family: var(--font-mono);
        font-size: 10px;
        letter-spacing: 1.5px;
        text-transform: uppercase;
        color: var(--muted);
        cursor: pointer;
        border-bottom: 1px solid transparent;
        padding-bottom: 1px;
        transition:
          color 0.18s,
          border-color 0.18s;
      }
      .footer-links span:hover {
        color: var(--accent);
        border-bottom-color: var(--accent);
      }
      .footer-note {
        margin-left: auto;
        font-family: var(--font-mono);
        font-size: 9px;
        letter-spacing: 1px;
        text-transform: uppercase;
        color: var(--border);
      }
      @media (max-width: 700px) {
        .test-header {
          padding: 36px 20px 30px;
        }
        .progress-bar-wrap {
          padding: 11px 20px;
        }
        .q-block {
          padding: 22px 20px;
        }
        .attr-section-header {
          padding: 11px 20px 8px;
        }
        .options-grid {
          grid-template-columns: 1fr;
          padding-left: 0;
        }
        .cta-bar {
          padding: 18px 20px;
        }
        .results-hero {
          padding: 36px 20px;
        }
        .style-deepdive {
          padding: 28px 20px;
        }
        .result-panel {
          padding: 24px 20px;
          border-right: none;
          border-bottom: 1px solid var(--border);
        }
        .answers-section {
          padding: 24px 20px;
        }
        .print-bar {
          padding: 16px 20px;
        }
        .lib-content {
          padding: 24px 16px;
        }
        .lib-archetypes-grid {
          grid-template-columns: 1fr;
        }
        .library-hero {
          padding: 36px 20px 28px;
        }
        .lib-sport-tabs {
          padding: 12px 16px;
        }
        .sw-grid {
          grid-template-columns: 1fr;
        }
        .lib-sw-row {
          grid-template-columns: 1fr;
        }
        .ans-q-row {
          grid-template-columns: 20px 1fr;
        }
        .ans-q-situation {
          display: none;
        }
      }
      @media print {
        nav,
        .progress-bar-wrap,
        .cta-bar,
        .print-bar {
          display: none !important;
        }
        .questions-section {
          display: none !important;
        }
        #results-area {
          display: block !important;
        }
        #site-footer {
          display: none !important;
        }
      }
    </style>
  </head>
  <body>
    <!-- NAV -->
    <nav>
      <div class="nav-logo" onclick="showPage('home')">KAMPFSTIL</div>
      <div class="nav-tab active" id="nav-home" onclick="showPage('home')">
        Start
      </div>
      <div class="nav-tab" id="nav-library" onclick="showPage('library')">
        Archetypen
      </div>
      <div class="nav-tab" id="nav-boxing" onclick="showPage('boxing')">
        Boxen
      </div>
      <div class="nav-tab" id="nav-bjj" onclick="showPage('bjj')">BJJ</div>
      <div class="nav-tab" id="nav-mma" onclick="showPage('mma')">MMA</div>
      <div class="nav-tab" id="nav-muaythai" onclick="showPage('muaythai')">
        Muay Thai
      </div>
      <div style="flex: 1"></div>
      <div
        class="nav-tab"
        id="nav-impressum"
        onclick="showPage('impressum')"
        style="font-size: 9px"
      >
        Impressum
      </div>
      <div
        class="nav-tab"
        id="nav-datenschutz"
        onclick="showPage('datenschutz')"
        style="font-size: 9px"
      >
        Datenschutz
      </div>
    </nav>

    <!-- HOME -->
    <div id="page-home" class="page active">
      <div
        style="
          min-height: calc(100vh - 48px);
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
          padding: 60px 24px;
          text-align: center;
        "
      >
        <div class="header-label" style="margin-bottom: 10px">
          4 Sportarten ¬∑ Situationsbasiert ¬∑ Detaillierte Analyse
        </div>
        <h1
          style="
            font-family: var(--font-display);
            font-size: clamp(44px, 7vw, 86px);
            letter-spacing: 3px;
            line-height: 0.92;
            margin-bottom: 8px;
          "
        >
          KAMPF<span style="color: var(--accent)">STIL</span><br />ANALYSE
        </h1>
        <p
          style="
            color: var(--muted);
            font-size: 14px;
            max-width: 440px;
            margin: 14px auto 44px;
            line-height: 1.7;
          "
        >
          W√§hle deine Kampfsportart, beantworte 14 Situationsfragen. Erfahre
          welcher K√§mpfer-Typ Du bist.
        </p>
        <div class="sport-cards">
          <div class="sport-card" data-emoji="ü•ä" onclick="showPage('boxing')">
            <div class="sport-card-tag">5 Archetypen ¬∑ 14 Fragen</div>
            <h2>BOXEN</h2>
            <p>
              Distanz, Initiative, Offensivstruktur, Kraftprofil,
              Defensivprinzip, Bewegung, Energie.
            </p>
            <div class="sport-card-btn">TEST STARTEN</div>
          </div>
          <div class="sport-card" data-emoji="ü•ã" onclick="showPage('bjj')">
            <div class="sport-card-tag">8 Archetypen ¬∑ 14 Fragen ¬∑ No-Gi</div>
            <h2>BJJ</h2>
            <p>
              Top-Orientierung, Pressure, Submission-Initiative, Distal-Fokus,
              Rotation/Backline.
            </p>
            <div class="sport-card-btn">TEST STARTEN</div>
          </div>
          <div class="sport-card" data-emoji="üèÜ" onclick="showPage('mma')">
            <div class="sport-card-tag">5 Archetypen ¬∑ 14 Fragen</div>
            <h2>MMA</h2>
            <p>
              Kampffeld, Entry, Striking, Cage-Intelligenz, Boden, Risikoprofil,
              Energie.
            </p>
            <div class="sport-card-btn">TEST STARTEN</div>
          </div>
          <div
            class="sport-card"
            data-emoji="ü•ä"
            onclick="showPage('muaythai')"
            style="border-color: var(--accent2)"
          >
            <div class="sport-card-tag" style="color: #c0392b">
              5 Archetypen ¬∑ 14 Fragen
            </div>
            <h2>MUAY THAI</h2>
            <p>
              Distanz, Offensivarchitektur, Kick-Philosophie, Clinch, Defensive,
              Pressure, Energie.
            </p>
            <div class="sport-card-btn">TEST STARTEN</div>
          </div>
        </div>
        <div style="margin-top: 32px">
          <button class="btn-secondary" onclick="showPage('library')">
            üìö Alle Archetypen erkunden
          </button>
        </div>
      </div>
    </div>

    <!-- LIBRARY -->
    <div id="page-library" class="page">
      <div class="library-hero">
        <div class="header-label">Archetypen-Bibliothek</div>
        <h2>
          ALLE STILE<br /><span style="color: var(--accent)">IM VERGLEICH</span>
        </h2>
        <p>
          Detaillierte Beschreibungen, St√§rken, Schw√§chen und Matchup-Hinweise
          f√ºr alle Archetypen √ºber 4 Sportarten.
        </p>
      </div>
      <div class="lib-sport-tabs">
        <div
          class="lib-sport-tab active"
          onclick="showLibSport('boxing', event)"
        >
          ü•ä Boxen
        </div>
        <div class="lib-sport-tab" onclick="showLibSport('bjj', event)">
          ü•ã BJJ
        </div>
        <div class="lib-sport-tab" onclick="showLibSport('mma', event)">
          üèÜ MMA
        </div>
        <div class="lib-sport-tab" onclick="showLibSport('muaythai', event)">
          ü•ä Muay Thai
        </div>
      </div>
      <div class="lib-content">
        <div id="lib-boxing" class="lib-sport-section active"></div>
        <div id="lib-bjj" class="lib-sport-section"></div>
        <div id="lib-mma" class="lib-sport-section"></div>
        <div id="lib-muaythai" class="lib-sport-section"></div>
      </div>
    </div>

    <!-- BOXING TEST -->
    <div id="page-boxing" class="page">
      <div id="test-boxing" class="test-page-inner active">
        <div class="test-header" data-emoji="ü•ä">
          <div class="header-label">Boxen ¬∑ 7 Attribute ¬∑ 14 Fragen</div>
          <h1>BOX<span>STIL</span></h1>
          <p>
            14 Situationsfragen. 7 stabile Dispositionen. Strukturelle Analyse
            deines Kampfmusters.
          </p>
        </div>
        <div class="progress-bar-wrap">
          <div class="progress-track">
            <div class="progress-fill" id="pf-boxing" style="width: 0%"></div>
          </div>
          <div class="progress-text" id="pt-boxing">0 / 14</div>
        </div>
        <div id="quiz-boxing">
          <div class="questions-section"><div id="qc-boxing"></div></div>
          <div class="cta-bar">
            <div class="cta-info" id="ci-boxing">
              Beantworte alle 14 Fragen.
            </div>
            <button
              class="btn-primary"
              id="bs-boxing"
              disabled
              onclick="showResults('boxing')"
            >
              ERGEBNIS
            </button>
          </div>
        </div>
        <div id="results-area" class="results-area-boxing">
          <div class="results-hero" id="rh-boxing" data-style=""></div>
          <div class="style-deepdive">
            <div class="section-title">STILANALYSE</div>
            <div id="dd-boxing"></div>
            <div class="sw-grid" id="sw-boxing"></div>
          </div>
          <div class="results-grid">
            <div class="result-panel">
              <div class="panel-title">PROFIL-RADAR</div>
              <canvas id="radar-boxing" width="380" height="360"></canvas>
              <div style="margin-top: 18px">
                <div class="panel-title">VERTRETER</div>
                <div class="boxers-row" id="br-boxing"></div>
              </div>
            </div>
            <div class="result-panel">
              <div class="panel-title">TRAINING</div>
              <ul class="training-list" id="tl-boxing"></ul>
              <div class="matchup-box" id="mb-boxing"></div>
              <div style="margin-top: 24px">
                <div class="panel-title">STILVERGLEICH</div>
                <div id="db-boxing"></div>
              </div>
            </div>
          </div>
          <div class="answers-section">
            <div class="section-title">DEINE ANTWORTEN</div>
            <div id="at-boxing"></div>
          </div>
          <div class="print-bar">
            <button class="btn-secondary" onclick="window.print()">
              DRUCKEN</button
            ><button class="btn-secondary" onclick="resetTest('boxing')">
              WIEDERHOLEN
            </button>
            <div class="print-note">Strg+P ‚Üí PDF</div>
          </div>
        </div>
      </div>
    </div>

    <!-- BJJ TEST -->
    <div id="page-bjj" class="page">
      <div id="test-bjj" class="test-page-inner active">
        <div class="test-header" data-emoji="ü•ã">
          <div class="header-label">
            No-Gi BJJ ¬∑ 5 Achsen ¬∑ 14 Fragen ¬∑ 8 Archetypen
          </div>
          <h1>BJJ<span>STIL</span></h1>
          <p>
            14 Situationsfragen. 5 Achsen. 8 No-Gi-Archetypen. Strukturelle
            Analyse deines Grappling-Musters.
          </p>
        </div>
        <div class="progress-bar-wrap">
          <div class="progress-track">
            <div class="progress-fill" id="pf-bjj" style="width: 0%"></div>
          </div>
          <div class="progress-text" id="pt-bjj">0 / 14</div>
        </div>
        <div id="quiz-bjj">
          <div class="questions-section"><div id="qc-bjj"></div></div>
          <div class="cta-bar">
            <div class="cta-info" id="ci-bjj">Beantworte alle 14 Fragen.</div>
            <button
              class="btn-primary"
              id="bs-bjj"
              disabled
              onclick="showBJJResults()"
            >
              ERGEBNIS
            </button>
          </div>
        </div>
        <div id="bjj-results-area" style="display: none">
          <div class="results-hero" id="rh-bjj" data-style=""></div>
          <div class="style-deepdive">
            <div class="section-title">STILANALYSE</div>
            <div id="dd-bjj"></div>
            <div class="sw-grid" id="sw-bjj"></div>
            <div style="margin-top: 24px">
              <div class="panel-title">NO-GI META-SIGNATUREN</div>
              <div class="sig-grid" id="sig-bjj"></div>
            </div>
          </div>
          <div class="results-grid">
            <div class="result-panel">
              <div class="panel-title">PROFIL-RADAR (5 ACHSEN)</div>
              <canvas id="radar-bjj" width="380" height="360"></canvas>
              <div style="margin-top: 18px">
                <div class="panel-title">ARCHETYPEN-VERTEILUNG</div>
                <div class="arch-dist-wrap" id="arch-dist-bjj"></div>
              </div>
            </div>
            <div class="result-panel">
              <div class="panel-title">WIN-CONDITIONS</div>
              <ul class="training-list" id="wc-bjj"></ul>
              <div style="margin-top: 16px">
                <div class="panel-title">ANTI-PATTERNS VERMEIDEN</div>
                <ul class="training-list" id="ap-bjj"></ul>
              </div>
              <div style="margin-top: 16px">
                <div class="panel-title">HINWEISE</div>
                <div id="notes-bjj"></div>
              </div>
            </div>
          </div>
          <div class="result-panel" style="border-top: 1px solid var(--border)">
            <div class="panel-title">MATCHUP-MATRIX 8√ó8</div>
            <div class="matchup-matrix-wrap" id="matrix-bjj"></div>
          </div>
          <div class="answers-section">
            <div class="section-title">DEINE ANTWORTEN</div>
            <div id="at-bjj"></div>
          </div>
          <div class="print-bar">
            <button class="btn-secondary" onclick="window.print()">
              DRUCKEN</button
            ><button class="btn-secondary" onclick="resetBJJTest()">
              WIEDERHOLEN
            </button>
            <div class="print-note">Strg+P ‚Üí PDF</div>
          </div>
        </div>
      </div>
    </div>

    <!-- MMA TEST -->
    <div id="page-mma" class="page">
      <div id="test-mma" class="test-page-inner active">
        <div class="test-header" data-emoji="üèÜ">
          <div class="header-label">MMA ¬∑ 7 Attribute ¬∑ 14 Fragen</div>
          <h1>MMA<span>STIL</span></h1>
          <p>
            14 Situationsfragen. 7 stabile Dispositionen. Strukturelle Analyse
            deines MMA-Musters.
          </p>
        </div>
        <div class="progress-bar-wrap">
          <div class="progress-track">
            <div class="progress-fill" id="pf-mma" style="width: 0%"></div>
          </div>
          <div class="progress-text" id="pt-mma">0 / 14</div>
        </div>
        <div id="quiz-mma">
          <div class="questions-section"><div id="qc-mma"></div></div>
          <div class="cta-bar">
            <div class="cta-info" id="ci-mma">Beantworte alle 14 Fragen.</div>
            <button
              class="btn-primary"
              id="bs-mma"
              disabled
              onclick="showResults('mma')"
            >
              ERGEBNIS
            </button>
          </div>
        </div>
        <div id="results-area" class="results-area-mma">
          <div class="results-hero" id="rh-mma" data-style=""></div>
          <div class="style-deepdive">
            <div class="section-title">STILANALYSE</div>
            <div id="dd-mma"></div>
            <div class="sw-grid" id="sw-mma"></div>
          </div>
          <div class="results-grid">
            <div class="result-panel">
              <div class="panel-title">PROFIL-RADAR</div>
              <canvas id="radar-mma" width="380" height="360"></canvas>
              <div style="margin-top: 18px">
                <div class="panel-title">VERTRETER</div>
                <div class="boxers-row" id="br-mma"></div>
              </div>
            </div>
            <div class="result-panel">
              <div class="panel-title">TRAINING</div>
              <ul class="training-list" id="tl-mma"></ul>
              <div class="matchup-box" id="mb-mma"></div>
              <div style="margin-top: 24px">
                <div class="panel-title">STILVERGLEICH</div>
                <div id="db-mma"></div>
              </div>
            </div>
          </div>
          <div class="answers-section">
            <div class="section-title">DEINE ANTWORTEN</div>
            <div id="at-mma"></div>
          </div>
          <div class="print-bar">
            <button class="btn-secondary" onclick="window.print()">
              DRUCKEN</button
            ><button class="btn-secondary" onclick="resetTest('mma')">
              WIEDERHOLEN
            </button>
            <div class="print-note">Strg+P ‚Üí PDF</div>
          </div>
        </div>
      </div>
    </div>

    <!-- MUAY THAI TEST -->
    <div id="page-muaythai" class="page">
      <div id="test-muaythai" class="test-page-inner active">
        <div class="test-header" data-emoji="ü•ä">
          <div class="header-label">Muay Thai ¬∑ 7 Attribute ¬∑ 14 Fragen</div>
          <h1>MUAY<span>THAI</span></h1>
          <p>
            14 Situationsfragen. 7 stabile Dispositionen. Strukturelle Analyse
            deines Thai-Kampfmusters.
          </p>
        </div>
        <div class="progress-bar-wrap">
          <div class="progress-track">
            <div class="progress-fill" id="pf-muaythai" style="width: 0%"></div>
          </div>
          <div class="progress-text" id="pt-muaythai">0 / 14</div>
        </div>
        <div id="quiz-muaythai">
          <div class="questions-section"><div id="qc-muaythai"></div></div>
          <div class="cta-bar">
            <div class="cta-info" id="ci-muaythai">
              Beantworte alle 14 Fragen.
            </div>
            <button
              class="btn-primary"
              id="bs-muaythai"
              disabled
              onclick="showResults('muaythai')"
            >
              ERGEBNIS
            </button>
          </div>
        </div>
        <div id="results-area" class="results-area-muaythai">
          <div class="results-hero" id="rh-muaythai" data-style=""></div>
          <div class="style-deepdive">
            <div class="section-title">STILANALYSE</div>
            <div id="dd-muaythai"></div>
            <div class="sw-grid" id="sw-muaythai"></div>
          </div>
          <div class="results-grid">
            <div class="result-panel">
              <div class="panel-title">PROFIL-RADAR</div>
              <canvas id="radar-muaythai" width="380" height="360"></canvas>
              <div style="margin-top: 18px">
                <div class="panel-title">VERTRETER</div>
                <div class="boxers-row" id="br-muaythai"></div>
              </div>
            </div>
            <div class="result-panel">
              <div class="panel-title">TRAINING</div>
              <ul class="training-list" id="tl-muaythai"></ul>
              <div class="matchup-box" id="mb-muaythai"></div>
              <div style="margin-top: 24px">
                <div class="panel-title">STILVERGLEICH</div>
                <div id="db-muaythai"></div>
              </div>
            </div>
          </div>
          <div class="answers-section">
            <div class="section-title">DEINE ANTWORTEN</div>
            <div id="at-muaythai"></div>
          </div>
          <div class="print-bar">
            <button class="btn-secondary" onclick="window.print()">
              DRUCKEN</button
            ><button class="btn-secondary" onclick="resetTest('muaythai')">
              WIEDERHOLEN
            </button>
            <div class="print-note">Strg+P ‚Üí PDF</div>
          </div>
        </div>
      </div>
    </div>

    <script>
      // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
      // IMAGE CONFIG (unchanged from original)
      // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
      const IMAGE_BASE = "images/";
      const IMAGE_EXT = ".jpg";
      const ARCH_SLUGS = {
        Outboxer: "outboxer",
        "Counter Puncher": "counter_puncher",
        "Boxer-Puncher": "boxer_puncher",
        Swarmer: "swarmer",
        Slugger: "slugger",
        Octopus: "octopus",
        Gorilla: "gorilla",
        Crocodile: "crocodile",
        "Black Panther": "black_panther",
        Viper: "viper",
        Spider: "spider",
        Anaconda: "anaconda",
        Mantis: "mantis",
        "Wrestle-Pressure Controller": "wrestle_pressure_controller",
        "Elite Counter-Striker": "elite_counter_striker",
        "Pressure Striker": "pressure_striker",
        "Submission Opportunist": "submission_opportunist",
        "Hybrid Tactical Fighter": "hybrid_tactical_fighter",
        "Muay Femur": "muay_femur",
        "Muay Mat": "muay_mat",
        "Muay Khao": "muay_khao",
        "Muay Tae": "muay_tae",
        "Hybrid Stadium Fighter": "hybrid_stadium_fighter",
      };
      function archImagePath(name) {
        const slug = ARCH_SLUGS[name];
        return slug ? IMAGE_BASE + slug + IMAGE_EXT : null;
      }
      function renderArchImage(name, color, cssClass) {
        var src = archImagePath(name);
        if (!src) return "";
        var slug = ARCH_SLUGS[name] || name;
        var ph =
          '<div class="' +
          cssClass +
          '-img-placeholder" style="display:none;background:' +
          color +
          "22;border:2px dashed " +
          color +
          '44;"><div style="color:' +
          color +
          ';font-size:11px;letter-spacing:2px;text-transform:uppercase;font-family:var(--font-mono);text-align:center;padding:16px;">' +
          name +
          '<br><span style="opacity:0.55;font-size:9px;">images/' +
          slug +
          ".jpg</span></div></div>";
        var img =
          '<img src="' +
          src +
          '" alt="' +
          name +
          '" class="' +
          cssClass +
          "-img\" onerror=\"this.style.display='none';this.nextElementSibling.style.display='flex';\">";
        return '<div class="' + cssClass + '-img-wrap">' + img + ph + "</div>";
      }

      // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
      // PAGE NAVIGATION
      // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
      function showPage(page) {
        document
          .querySelectorAll(".page")
          .forEach((p) => p.classList.remove("active"));
        document
          .querySelectorAll(".nav-tab")
          .forEach((t) => t.classList.remove("active"));
        var tp = document.getElementById("page-" + page);
        if (!tp) return;
        tp.classList.add("active");
        var ne = document.getElementById("nav-" + page);
        if (ne) ne.classList.add("active");
        requestAnimationFrame(() =>
          window.scrollTo({ top: 0, behavior: "instant" }),
        );
      }
      function showLibSport(sport, e) {
        document
          .querySelectorAll(".lib-sport-tab")
          .forEach((t) => t.classList.remove("active"));
        document
          .querySelectorAll(".lib-sport-section")
          .forEach((s) => s.classList.remove("active"));
        if (e && e.target) e.target.classList.add("active");
        document.getElementById("lib-" + sport).classList.add("active");
      }

      // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
      // ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà  BJJ ENGINE  ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà
      // (Ported from kampfstil-engine.ts ‚Äì pure JS, no deps)
      // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

      // --- Archetypes ---
      const BJJ_ARCHETYPES = {
        OCTOPUS: {
          id: "OCTOPUS",
          label: "Octopus",
          archetypeName: "Dynamic Outside Guard Player / Guard Pull Strategist",
          oneLiner:
            "Bottom-Kontrolle √ºber Distanz, Frames und Winkel ‚Äì Sweep-First statt 'Guard halten'.",
          subArchetypes: [
            "DLR/X-Guard Driver",
            "K-Guard / Matrix-Entries",
            "Outside-Retention Specialist",
          ],
          centroid: {
            top: 18,
            pressure: 28,
            submission: 55,
            distal: 70,
            rotation: 48,
          },
          color: "#5B99C2",
          longdesc: [
            "Der Octopus gewinnt nicht dadurch, dass er seinen Guard h√§lt ‚Äì er gewinnt, weil sein Guard selbst eine Waffe ist. DLR, X-Guard, K-Guard: jede Position ist ein Hebel, um den Gegner zu destabilisieren und zu sweepen, bevor er passieren kann.",
            "Im No-Gi-Kontext ohne Griffe ist sein Spiel besonders auf Kniescheibenkontrolle und Beinlinien aufgebaut. Ein verlorener Au√üenwinkel ist nicht ein Setback ‚Äì er ist der Beginn der n√§chsten Sweep-Sequenz.",
            "Seine gr√∂√üte Gefahr kommt von Pressure Passern (Crocodile), die seinen Aktionsradius durch Schultergewicht und Flattening systematisch reduzieren. Gegen Leg-Lock-Spieler (Viper) muss er besonders auf Knee-Line-Exposition achten.",
            "Trainingstipp: Beinwork als Offensivwerkzeug denken. Jedes Frame ist eine Sweep-Einladung, nicht nur Defense.",
          ],
          strengths: [
            "Bottom-Kontrolle √ºber Distanz und Winkel",
            "Sweep-First System aus dem Guard",
            "Technisch sehr variabel (DLR/X-Guard/K-Guard)",
            "Knee-Line Management als prim√§res Werkzeug",
            "Gut gegen Top-Spieler ohne Submission-Sensibilit√§t",
          ],
          weaknesses: [
            "Pressure Passer reduzieren Aktionsradius systematisch",
            "Leg-Lock-Exposition wenn Knee-Line verloren geht",
            "Braucht Aktionsraum ‚Äì Flattening stoppt das System",
            "Top-Game oft weniger entwickelt",
          ],
          winConditions: [
            "Knie-Linie + Outside-Position halten",
            "Off-balancing ‚Üí Sweep-First",
            "Frames fr√ºh ‚Äì Distanz ist Sauerstoff",
          ],
          antiPatterns: [
            "Guard 'halten' statt Winkel bauen",
            "Tief kreuzen ohne Knee-Line Plan",
            "Zu lang im Smash bleiben",
          ],
          boxers: ["Mikey Musumeci", "Ryan Hall", "Keenan Cornelius"],
          matchup:
            "Stark gegen Top-Spieler ohne Submission-Sensibilit√§t. Schwierig gegen Crocodile (Pressure/Flattening) und Viper (Leg-Entanglement wenn Knee-Line verloren).",
        },
        GORILLA: {
          id: "GORILLA",
          label: "Gorilla",
          archetypeName: "Wrestle-to-Top Controller / Positional Dominator",
          oneLiner:
            "Takedowns ‚Üí Top ‚Üí Tempo runter. Gewinnt √ºber Kontrolle, nicht √ºber Chaos.",
          subArchetypes: [
            "Chain-Wrestler (Single‚ÜîDouble)",
            "Bodylock-Clincher",
            "Ride-Controller (wrist/hip)",
          ],
          centroid: {
            top: 92,
            pressure: 78,
            submission: 38,
            distal: 22,
            rotation: 35,
          },
          color: "#8B5E3C",
          longdesc: [
            "Der Gorilla macht seinen Kampfstil √ºber Situationskontrolle: er bringt den Kampf genau dort hin, wo er arbeiten will ‚Äì oben. Takedown-Chains (Single‚ÜîDouble), Bodylock und Hip-Control sind seine Einstiegswerkzeuge.",
            "Am Boden ist sein Mantra: Pin ‚Üí Pass ‚Üí Positionsdominanz. Er senkt das Tempo, erh√∂ht Druck und l√§sst den Gegner sich selbst ersch√∂pfen. Submissions sind Folge der Kontrolle, nicht ihr Ziel.",
            "Schwachpunkt: Leg-Systeme (Viper) k√∂nnen seine Beinexposition bei Takedown-Einsteigen direkt bestrafen. Front-Headlock-Spezialisten (Anaconda) warten auf seinen linearen Entry.",
            "Training: Takedown-Chains als automatischen Fluss, Pass-Kombinationen unter echtem Druck und Guard-Pass-Awareness bzgl. Leg-Exposure.",
          ],
          strengths: [
            "Kontrolliert wo K√§mpfe stattfinden",
            "Systematische Positionsdominanz",
            "Niedrige KO-Gefahr durch Top-Safety",
            "Ausdauernd und strukturell robust",
            "Submissions aus Positionsdruck heraus",
          ],
          weaknesses: [
            "Leg-Lock-Exposure bei Bein-Einsteigen",
            "Front-Headlock-Gefahr bei linearen Entries",
            "Submissions weniger als Spezialisten",
            "Kann gegen sehr aktive Guards frustriert werden",
          ],
          winConditions: [
            "Takedown-Chain diszipliniert",
            "Top stabilisieren, Tempo senken",
            "Rides/Handfights ‚Üí Kontrolle",
          ],
          antiPatterns: [
            "Zu tiefe Knie am Boden (Heel-Exposure)",
            "√úberg√§nge jagen statt re-pin",
            "Lineare Entries ohne Head position",
          ],
          boxers: [
            "Gordon Ryan (Wrestler-Phase)",
            "Nick Rodriguez",
            "Kaynan Duarte",
          ],
          matchup:
            "Stark gegen Spider und Octopus ohne Takedown Defense. Schwierig gegen Viper (Leg-Exposure bei Entries) und Anaconda (Front-Headlock auf lineare Entries).",
        },
        CROCODILE: {
          id: "CROCODILE",
          label: "Crocodile",
          archetypeName: "Pressure Guard Passer / Pin Specialist",
          oneLiner:
            "Passing-Chain + Pins (Flattening) ‚Äì erstickt Guard & Chains durch Struktur.",
          subArchetypes: [
            "HQ/Knee-Cut Passer",
            "Bodylock Passer",
            "Crossface-Underhook Pin Player",
          ],
          centroid: {
            top: 85,
            pressure: 92,
            submission: 35,
            distal: 18,
            rotation: 25,
          },
          color: "#4A4A4A",
          longdesc: [
            "Der Crocodile gewinnt durch Struktur und Gewicht. Sein Passing-System ist nicht √ºber Geschwindigkeit, sondern √ºber sequentielle √úberlastung: jeder Pass-Versuch baut Druck auf, der n√§chste nutzt die entstandene Ersch√∂pfung aus.",
            "Flattening ist sein eigentliches Werkzeug: wer flach ist, kann keine Frames setzen, keine Guards spielen, keine Chains aufbauen. HQ-Pass, Knee-Cut, Bodylock ‚Äì alles zielt auf den gleichen Endpunkt: Schulterkontrolle, Crossface, Kontrolle.",
            "Schwachpunkt: Leg-Systeme wie Viper k√∂nnen seine Passing-Schritte direkt angreifen. Back-Taker (Panther) nutzen jede Rotation beim Pass. Gegen dynamische Guards wie Octopus braucht er fr√ºh Flattening, sonst verliert er Positionsinitiative.",
            "Training: Passing-Chains ohne Leg-Exposure, Crossface/Underhook-Mechanik t√§glich, Flattening bevor der Guard aktiv wird.",
          ],
          strengths: [
            "Passing-Chain systematisch und sequentiell",
            "Flattening/Pins reduzieren gegnerische Werkzeuge",
            "Wenig eigene Submission-Exposition",
            "Strukturell schwer zu sweepen",
            "Kontrolliert Guard-Spieler durch Druck",
          ],
          weaknesses: [
            "Leg-Lock-Exposition bei Pass-Schritten",
            "Zu viel Rotation √∂ffnet Back-Takes",
            "Gegen aktive Outside-Guards frustrierend",
            "Submission-Initiative gering",
          ],
          winConditions: [
            "Passing-Chain ohne Exposure",
            "Pin/Flattening erzwingen",
            "Frame-Breaks: crossface/underhook",
          ],
          antiPatterns: [
            "Step-Passing ohne Leg-Awareness",
            "Pins l√∂sen um 'mehr' zu holen",
            "Zu viel Rotation beim Pass gegen Back-Hunter",
          ],
          boxers: ["Bernardo Faria", "Marcus Almeida", "Buchecha"],
          matchup:
            "Stark gegen Spider und Octopus (Pressure stoppt Chains/Beinwork). Schwierig gegen Viper (Leg-Exposure) und Panther (Back-Takes aus Rotationen).",
        },
        PANTHER: {
          id: "PANTHER",
          label: "Black Panther",
          archetypeName: "Back-Take Specialist / Rotational Opportunist",
          oneLiner:
            "Lebt von Rotationen: Turtle/Backline ‚Äì sobald du drehst, bist du verloren.",
          subArchetypes: [
            "Turtle Attacker",
            "Leg-Drag ‚Üí Backline",
            "Scramble Back-Hunter",
          ],
          centroid: {
            top: 62,
            pressure: 48,
            submission: 62,
            distal: 35,
            rotation: 92,
          },
          color: "#1A1714",
          longdesc: [
            "Der Black Panther hat eine einzige Agenda: den R√ºcken. Egal aus welcher Position ‚Äì Scramble, Turtle, Leg-Drag ‚Äì er sieht immer den Weg zur Backline. Wenn der Gegner dreht, ist das kein Problem, sondern der Trigger.",
            "Seatbelt-Kontrolle und Body Triangle sind seine Machtposition. Von dort baut er Rear Naked Choke, Rear Triangle oder nutzt die Kontrolle f√ºr Punishment-GnP-Muster im Submission-Kontext.",
            "Schwachpunkt: gegen Gegner die konsequent Guard-up bleiben und nie drehen, hat er weniger organische M√∂glichkeiten. Mantis (Scrambler) kann ihm im Chaos entwischen.",
            "Training: Turtle-Angriffe, Leg-Drag‚ÜíBackline als automatische Kette, und intensive Mattenarbeit mit Rotations-Triggern ‚Äì die Drehung des Gegners sofort erkennen.",
          ],
          strengths: [
            "R√ºcken = h√∂chste Kontrollposition im BJJ",
            "Extremes Finishing-Potential",
            "Nutzt gegnerische Bewegung als Trigger",
            "Klares, einzieliges System",
            "Psychologisch zerm√ºrbend",
          ],
          weaknesses: [
            "Gegen defensive Gegner ohne Drehbewegung",
            "Guard-Arbeit oft sekund√§r",
            "Scramble-Spezialisten k√∂nnen entwischen",
            "Seatbelt/Hook muss sauber sitzen",
          ],
          winConditions: [
            "Rotation erzwingen (turtle/backline)",
            "Seatbelt fr√ºh, Hooks sauber",
            "Backline > Sub-Trade",
          ],
          antiPatterns: [
            "Back-Chase ohne Base (in Legs fallen)",
            "Seatbelt/Hook sloppy",
            "Scramble erzwingen ohne Trigger",
          ],
          boxers: ["Rafael Mendes", "Garry Tonon (Back-Phase)", "Craig Jones"],
          matchup:
            "Stark gegen Gorilla und Crocodile (Back-Exposure bei Rotationen). Schwierig gegen Mantis (unpredictable Scrambles) und gegen defensive Octopus-Spieler ohne Drehbewegung.",
        },
        VIPER: {
          id: "VIPER",
          label: "Viper",
          archetypeName:
            "Leg Entanglement System Player / Distal Submission Attacker",
          oneLiner:
            "Knee-Line gewinnen, behalten, finishen ‚Äì oder Leg‚ÜíSweep/Back als Kette.",
          subArchetypes: [
            "Ashi-First Finisher",
            "50/50 Strategist",
            "Leg‚ÜíBack Transitional",
          ],
          centroid: {
            top: 45,
            pressure: 32,
            submission: 86,
            distal: 96,
            rotation: 72,
          },
          color: "#2E7D32",
          longdesc: [
            "Der Viper macht das Spiel vertikal: er ist gef√§hrlich aus Positionen, die andere f√ºr sicher halten. Ashi Garami, 50/50, Outside Heel ‚Äì sein Einstieg ist jede Situation mit Beinkontakt.",
            "Sein System ist nicht chaotisch, sondern linear: Knee-Line gewinnen ‚Üí halten ‚Üí Mechanik anwenden. Heel Hook, Kneebar, Ankle Lock ‚Äì und wenn der Gegner entkommt, folgt die n√§chste Position in der Kette.",
            "Schwachpunkt: sehr erfahrene Leg-Lock-Verteidiger die Heel-Exposition konsequent minimieren und gut entschl√ºpfen. Head-Position-Fehler √∂ffnen Guillotinen (Anaconda).",
            "Training: Ashi-Positionen t√§glich, Heel-Hook-Mechanik pr√§zise (Knie-Rotation + H√ºftdruck), Leg-Lock-Chains als System.",
          ],
          strengths: [
            "Gef√§hrlich aus unerwarteten Positionen",
            "Leg-Locks werden oft untersch√§tzt",
            "Scramble = Angriffschance",
            "Leg‚ÜíSweep/Back als alternative Win-Condition",
            "Schnelle Finishing-M√∂glichkeiten",
          ],
          weaknesses: [
            "Erfahrene Verteidiger entziehen Beine systematisch",
            "Head-Position-Fehler √∂ffnen Guillotinen",
            "Top-Game oft weniger entwickelt",
            "Regelabh√§ngig (No-Gi-Turniere variieren)",
          ],
          winConditions: [
            "Knee-Line gewinnen & behalten",
            "Breaking mechanics sauber",
            "Leg‚ÜíSweep/Back statt sterben",
          ],
          antiPatterns: [
            "Statische 50/50 ohne Progression",
            "Head position ignorieren (Guillotine)",
            "Knee-Line verlieren und 'trotzdem bleiben'",
          ],
          boxers: ["Gordon Ryan", "Nicky Ryan", "Lachlan Giles"],
          matchup:
            "Stark gegen Gorilla und Crocodile (Bein-Exposure bei Entries/Passing). Schwierig gegen erfahrene Leg-Lock-Verteidiger und gegen Anaconda (Head-Position-Guillotinen).",
        },
        SPIDER: {
          id: "SPIDER",
          label: "Spider",
          archetypeName: "Submission Chain Attacker / Flow Grappler",
          oneLiner:
            "Submissions sind Hebel zum √ñffnen ‚Äì Chains erzwingen Reaktionen, nicht nur Finishes.",
          subArchetypes: [
            "Kimura System Player",
            "Triangle Chain Player",
            "Front-Headlock-to-Back Chain",
          ],
          centroid: {
            top: 48,
            pressure: 40,
            submission: 95,
            distal: 55,
            rotation: 60,
          },
          color: "#7B2D8B",
          longdesc: [
            "Der Spider ist √ºberall angreifend. Er baut keine Submission isoliert auf ‚Äì er baut Chains. Wenn der Gegner den Armbar verteidigt, ist der Triangle schon bereit. Wenn der Triangle geblockt wird, kommt der Omoplata. Die Kette h√∂rt nicht auf.",
            "Was ihn auszeichnet: Submissions sind nicht sein Ziel, sondern sein Werkzeug. Ein Submission-Angriff erzwingt Reaktion, und diese Reaktion √∂ffnet die n√§chste M√∂glichkeit. Er k√§mpft vorw√§rts, auch aus dem Nachteil.",
            "Schwachpunkt: gegen Pressure-Passer (Crocodile) wird sein Chain-Volumen durch Flattening systematisch reduziert. Gegen sehr defensive Gegner die alle Submissions kennen und nie reagieren, kommt er zu wenig Output.",
            "Training: Triangle‚ÜíArmbar‚ÜíOmoplata als Unit, Kimura‚ÜíBrabo‚ÜíDarce aus Sidemount, erzwungene Reaktionen statt Finish-Fixierung.",
          ],
          strengths: [
            "√úberall angreifend und gef√§hrlich",
            "Submissions als taktisches Werkzeug",
            "Schwer defensiv zu lesen",
            "Kreatives variables Spiel",
            "Angreifend auch aus dem Nachteil",
          ],
          weaknesses: [
            "Pressure Passer reduzieren Chain-Frequenz",
            "Gegen sehr erfahrene Submission-Defense",
            "Positions-Verluste aus Submission-Versuchen",
            "Energie-intensiv durch permanente Angriffe",
          ],
          winConditions: [
            "Bindungen erzwingen (inside ties/head)",
            "Chains: √∂ffnen, nicht nur finishen",
            "Frequenz hoch ‚Äì aber nicht reckless",
          ],
          antiPatterns: [
            "Chains ohne Bindungen (ins Leere)",
            "Finish-Fixierung statt Reaktion nutzen",
            "Flach werden unter Pressure",
          ],
          boxers: ["Marcelo Garcia", "Dean Lister", "Eddie Bravo"],
          matchup:
            "Stark gegen Gorilla ohne Submission-Sensibilit√§t. Schwierig gegen Crocodile (Flattening stoppt Chains) und gegen sehr defensive K√§mpfer die kaum Angriffsfl√§che bieten.",
        },
        ANACONDA: {
          id: "ANACONDA",
          label: "Anaconda",
          archetypeName: "Front Headlock Hunter (Guillotine/D'arce/Anaconda)",
          oneLiner:
            "No-Gi Meta-S√§ule: Sprawl ‚Üí Head/Arm ‚Üí finish oder pass/back.",
          subArchetypes: [
            "High-Wrist Guillotine",
            "D'arce Chain",
            "Snapdown‚ÜíFHL Controller",
          ],
          centroid: {
            top: 55,
            pressure: 55,
            submission: 90,
            distal: 35,
            rotation: 55,
          },
          color: "#C0392B",
          longdesc: [
            "Der Anaconda ist eine der gef√§hrlichsten No-Gi-Waffen: der Front Headlock als Meta-System. Jeder Takedown-Versuch, jeder Forward-Lean, jeder Kopf-Fehler ‚Äì er wartet auf genau diesen Moment. Snapdown, Sprawl, underhookte Wurfversuche: alles ist ein Eingang.",
            "High-Wrist Guillotine, D'arce, Anaconda Choke ‚Äì die Submission-Optionen sind spezifisch f√ºr No-Gi und extrem schwer zu verteidigen wenn das Head/Arm-Kontrolle erstmal sitzt.",
            "Schwachpunkt: wer sein Head-Position-Management kennt und konsequent Innengriffe h√§lt, gibt ihm wenig M√∂glichkeiten. Gegen Viper braucht er besonders auf Leg-Exposure bei seinen eigenen Forward-Entries achten.",
            "Training: Sprawl-zu-Front-Headlock als automatischen Reflex, Head-Arm-Kontrolle zuerst (bevor Choke angesetzt wird), Finish-oder-Pass-Entscheidung sauber trainieren.",
          ],
          strengths: [
            "No-Gi-Meta-Waffe mit hohem Finish-Potential",
            "Bestraft alle Forward-Entries und Kopf-Fehler",
            "Sprawl ist gleichzeitig Defense und Offense",
            "Front-Headlock als Pass/Back-Option wenn Choke verteidigt",
            "Psychologisch belasten: jeder Entry ist riskant",
          ],
          weaknesses: [
            "Head-Position-Management des Gegners neutralisiert ihn",
            "Gegen Viper bei Forward-Entries exponiert",
            "Guillotine erzwingen ohne Kontrolle f√ºhrt zu nichts",
            "Limitiert wenn kein Front-Headlock-Eingang entsteht",
          ],
          winConditions: [
            "Sprawl ‚Üí Front Headlock",
            "High-wrist/Head-Arm Kontrolle",
            "Finish oder pass/back nach Reaktion",
          ],
          antiPatterns: [
            "Guillotine erzwingen ohne Control",
            "Head-Arm verlieren und trotzdem bleiben",
            "FHL jagen statt resetten/passen",
          ],
          boxers: ["Dillon Danis", "Garry Tonon", "Neil Melanson (Coach)"],
          matchup:
            "Stark gegen Gorilla und Crocodile (lineare Entries sind Einladungen). Schwierig gegen Viper (Leg-Exposure bei Forward-Entries) und gegen K√§mpfer mit exzellentem Head-Position-Management.",
        },
        MANTIS: {
          id: "MANTIS",
          label: "Mantis",
          archetypeName: "Transitional Scrambler / Chaos-to-Control",
          oneLiner:
            "Erzeugt Chaos, aber nicht planlos: Scramble-Gewinner, der in Kontrolle √ºberf√ºhrt.",
          subArchetypes: [
            "Granby/Peek-Out Scrambler",
            "Leg-Pummel Transitional",
            "Wrestle-Up Opportunist",
          ],
          centroid: {
            top: 58,
            pressure: 45,
            submission: 60,
            distal: 55,
            rotation: 80,
          },
          color: "#D4A574",
          longdesc: [
            "Der Mantis ist kein chaotischer K√§mpfer ‚Äì er ist ein Chaos-Architekt. Er erzeugt Scrambles bewusst, weil er in √úbergangspositionen besser ist als sein Gegner. Granby, Peek-Out, Leg-Pummel: Werkzeuge f√ºr die unklare Mitte.",
            "Sein Ziel ist nicht prim√§r Submission oder Takedown, sondern der bessere Ausgang aus jedem undefinierten Moment. Scramble gewinnen bedeutet f√ºr ihn: hips frei, Stand-up als Druckmittel, oder Position sichern wenn das Chaos g√ºnstig endet.",
            "Schwachpunkt: Chaos ohne Exit-Plan ist kein Stil, sondern ein Fehler. Gegen sehr systematische Passer (Crocodile) oder Position-Dominator (Gorilla) muss er seinen Scramble fr√ºher triggern bevor Kontrolle etabliert ist.",
            "Training: Granby als automatischen Reflex, Stand-up-Timing als taktisches Werkzeug, und das Entscheidungstraining 'Scramble gewinnen ‚Üí was jetzt?'",
          ],
          strengths: [
            "Gewinnt in undefinierten Transitionen",
            "Scramble = Heimvorteil",
            "Stand-up als taktisches Reset-Werkzeug",
            "Schwer zu scouten und zu planen",
            "Kreativ und unvorhersehbar",
          ],
          weaknesses: [
            "Chaos ohne Exit-Plan",
            "Gegen systematische Passer mit fr√ºhem Control",
            "Position nicht gesichert nach Scramble-Gewinn",
            "Weniger klar gegen statische defensive Stile",
          ],
          winConditions: [
            "Scramble gewinnen (hips free)",
            "Chaos in Kontrolle √ºberf√ºhren",
            "Wrestle-up/stand-ups als Reset-Waffe",
          ],
          antiPatterns: [
            "Chaos ohne Exit-Plan",
            "Stand-up spammen ohne Timing",
            "Scramble gewinnen, aber Position nicht sichern",
          ],
          boxers: [
            "Tony Ferguson (Grappling-Aspekte)",
            "Eddie Cummings",
            "Geo Martinez",
          ],
          matchup:
            "Stark gegen Panther (unpredictable Scrambles entziehen Back-Take-Trigger) und gegen Spider (Chaos bricht Submission-Chains). Schwierig gegen Crocodile (fr√ºher Druck) und Gorilla (systematische Kontrolle).",
        },
      };

      // --- BJJ Questions (14, mapped to A/B/C ‚Üí weights) ---
      const BJJ_QUESTIONS = [
        {
          id: 1,
          block: "Einstieg & Guard-Wahl",
          situation: "Der Kampf beginnt im Stand. Dein Gegner sucht Klinch.",
          question: "Was passiert als n√§chstes instinktiv?",
          A: {
            text: "Du pullst Guard aktiv ‚Äì du willst Bottom-Arbeit aus dem Stand.",
            axes: { top: -2, pressure: -1, distal: +2, rotation: +1 },
            sig: { legEntanglementAffinity: +1 },
          },
          B: {
            text: "Du checkst seinen Entry und schiesst auf Takedown (Double/Single).",
            axes: { top: +2, pressure: +1 },
            sig: { frontHeadlockAffinity: +1 },
          },
          C: {
            text: "Du arbeitest Clinch, versuchst Underhook und Body-Lock.",
            axes: { top: +1, pressure: +1, rotation: +1 },
            sig: { pinAffinity: +1 },
          },
        },
        {
          id: 2,
          block: "Einstieg & Guard-Wahl",
          situation:
            "Dein erster Versuch (Takedown oder Guard Pull) wird gestoppt.",
          question: "Was folgt?",
          A: {
            text: "Du setzt direkt auf Guard Pull oder sitzt ins Open Guard.",
            axes: { top: -2, pressure: -1, distal: +1, rotation: 0 },
            sig: { resetAffinity: +1 },
          },
          B: {
            text: "Du wechselst in eine andere Takedown-Variante oder Leg Entanglement.",
            axes: {
              top: +1,
              pressure: +1,
              submission: +1,
              distal: +1,
              rotation: +1,
            },
            sig: { legEntanglementAffinity: +1 },
          },
          C: {
            text: "Du nutzt Clinch weiter und suchst Wurfchancen oder Scrambles.",
            axes: { top: +1, pressure: +1, rotation: +1 },
            sig: { pinAffinity: +1 },
          },
        },
        {
          id: 3,
          block: "Guard-Arbeit & Frames",
          situation:
            "Du bist auf dem R√ºcken. Der Gegner versucht deinen Guard zu passieren.",
          question: "Wie reagierst du?",
          A: {
            text: "Du bewegst dich aktiv mit Beinwork und Frames ‚Äì Knee-Line ist dein Fokus.",
            axes: { top: -2, pressure: -1, distal: +2, rotation: +1 },
            sig: { legEntanglementAffinity: +1 },
          },
          B: {
            text: "Du k√§mpfst um den Underhook und versuchst Half-Guard Recovery.",
            axes: { top: -2, pressure: +1 },
            sig: { pinAffinity: +1 },
          },
          C: {
            text: "Du drehst hart und suchst Backtake oder Turtle Recovery.",
            axes: { top: -2, pressure: 0, distal: -1, rotation: +2 },
            sig: { frontHeadlockAffinity: +1 },
          },
        },
        {
          id: 4,
          block: "Guard-Arbeit & Frames",
          situation:
            "Du bist im Open Guard. Der Gegner steht auf und versucht Distanz zu schaffen.",
          question: "Was tust du?",
          A: {
            text: "Du folgst mit Beinkontrolle (DLR, X-Guard) und bleibst aktiv.",
            axes: { top: -2, pressure: -1, distal: +2, rotation: +1 },
            sig: { legEntanglementAffinity: +1 },
          },
          B: {
            text: "Du stehst auf und resettest den Kampf im Stand.",
            axes: { top: +1, pressure: +1, distal: 0, rotation: 0 },
            sig: { resetAffinity: +1 },
          },
          C: {
            text: "Du versuchst Submission aus dem Guard (Triangle, Armbar).",
            axes: { top: -1, submission: +2, distal: +1, rotation: +1 },
            sig: { frontHeadlockAffinity: +1 },
          },
        },
        {
          id: 5,
          block: "Submission-System",
          situation:
            "Du hast eine g√ºnstige Position und siehst eine Submission-M√∂glichkeit.",
          question: "Was machst du?",
          A: {
            text: "Du baust eine Submission-Chain auf (Armbar‚ÜíTriangle‚ÜíOmoplata).",
            axes: { submission: +2, distal: +1, rotation: +1 },
            sig: { frontHeadlockAffinity: +1 },
          },
          B: {
            text: "Du suchst den Front Headlock f√ºr Guillotine oder D'arce.",
            axes: { submission: +2, rotation: +1 },
            sig: { frontHeadlockAffinity: +2 },
          },
          C: {
            text: "Du gehst auf Leg Entanglement und Heel Hook.",
            axes: { submission: +2, distal: +2, rotation: +1 },
            sig: { legEntanglementAffinity: +2 },
          },
        },
        {
          id: 6,
          block: "Submission-System",
          situation: "Der Gegner verteidigt deine erste Submission konsequent.",
          question: "Was kommt danach?",
          A: {
            text: "Du wechselst in die n√§chste Submission der Chain ohne Pause.",
            axes: { submission: +2, distal: +1, rotation: +1 },
            sig: { frontHeadlockAffinity: +1 },
          },
          B: {
            text: "Du nutzt seine Reaktion f√ºr einen Back-Take.",
            axes: { submission: +1, rotation: +2 },
            sig: { frontHeadlockAffinity: +1 },
          },
          C: {
            text: "Du wechselst auf Leg Entanglement oder Kneebar.",
            axes: { submission: +2, distal: +2, rotation: +1 },
            sig: { legEntanglementAffinity: +2 },
          },
        },
        {
          id: 7,
          block: "Top-Game & Passing",
          situation: "Du hast den Gegner geworfen oder gesweept. Du bist oben.",
          question: "Was ist dein prim√§rer Fokus?",
          A: {
            text: "Du baust Pressure und passierst methodisch (HQ, Knee-Cut).",
            axes: { top: +2, pressure: +2, submission: -1 },
            sig: { pinAffinity: +2 },
          },
          B: {
            text: "Du fixierst Side Control oder Mount und baust Kontrolle auf.",
            axes: { top: +2, pressure: +2, submission: -1 },
            sig: { pinAffinity: +2 },
          },
          C: {
            text: "Du suchst sofort Rotation und Back-Take.",
            axes: { top: +1, rotation: +2, submission: +1 },
            sig: { frontHeadlockAffinity: +1 },
          },
        },
        {
          id: 8,
          block: "Top-Game & Passing",
          situation:
            "Du hast eine dominante Position oben, aber der Gegner macht Druck von unten.",
          question: "Wie antwortest du?",
          A: {
            text: "Du erh√∂hst Schultergewicht und flattening ‚Äì er soll nicht atmen.",
            axes: { top: +1, pressure: +2, submission: -1 },
            sig: { pinAffinity: +2 },
          },
          B: {
            text: "Du wechselst in eine stabilere Kontrollposition (Mount ‚Üí S-Mount).",
            axes: { top: +1, pressure: +2, submission: -1 },
            sig: { pinAffinity: +1 },
          },
          C: {
            text: "Du nimmst seine Rotation und geht sofort auf den R√ºcken.",
            axes: { top: +1, rotation: +2, submission: +2 },
            sig: { frontHeadlockAffinity: +2 },
          },
        },
        {
          id: 9,
          block: "Scramble & √úberg√§nge",
          situation:
            "Beide k√§mpfen um Position ‚Äì kein klarer Vorteil. Scramble-Situation.",
          question: "Was tust du?",
          A: {
            text: "Du machst Chaos bewusst und suchst Angriff aus dem Scramble.",
            axes: { rotation: +2, submission: +1, pressure: -1 },
            sig: { resetAffinity: +1 },
          },
          B: {
            text: "Du versuchst Position zu stabilisieren und Kontrolle zur√ºckzugewinnen.",
            axes: { pressure: +1, top: +1 },
            sig: { pinAffinity: +1 },
          },
          C: {
            text: "Du trennst dich, stehst auf und resettst im Stand.",
            axes: { pressure: -1, top: 0, rotation: 0 },
            sig: { resetAffinity: +2 },
          },
        },
        {
          id: 10,
          block: "Scramble & √úberg√§nge",
          situation:
            "Der Gegner dreht sich und versucht zu entkommen ‚Äì du bist knapp oben.",
          question: "Was tust du?",
          A: {
            text: "Du folgst der Rotation sofort und jagst den Back-Take.",
            axes: { rotation: +2, submission: +1 },
            sig: { frontHeadlockAffinity: +1 },
          },
          B: {
            text: "Du nutzt seinen Guard Pull und gehst in Leg Entanglement.",
            axes: { top: -2, distal: +2, pressure: -1 },
            sig: { legEntanglementAffinity: +1 },
          },
          C: {
            text: "Du re-stabilisierst, nimmst Position und baust neu auf.",
            axes: { top: +1, pressure: 0, rotation: 0 },
            sig: { resetAffinity: +2 },
          },
        },
        {
          id: 11,
          block: "Kontrolle & Finish",
          situation: "Du bist auf dem R√ºcken des Gegners ‚Äì Seatbelt sitzt.",
          question: "Was ist dein prim√§res Ziel?",
          A: {
            text: "Du sicherst Hooks und gehst auf Rear Naked Choke.",
            axes: { top: +2, rotation: +1, submission: 0 },
            sig: { pinAffinity: +1 },
          },
          B: {
            text: "Du jagst Submissions (Rear Triangle, Arm-Trap).",
            axes: { submission: +2, rotation: +1 },
            sig: { frontHeadlockAffinity: +1 },
          },
          C: {
            text: "Du h√§ltst Back Control und erzwingst Fehler durch Geduld.",
            axes: { top: +2, pressure: +2, submission: -1 },
            sig: { pinAffinity: +2 },
          },
        },
        {
          id: 12,
          block: "Kontrolle & Finish",
          situation: "Du hast Side Control ‚Äì der Gegner ist aktiv und k√§mpft.",
          question: "Wie finishst du?",
          A: {
            text: "Du nutzt seine Aktivit√§t f√ºr Leg Entanglement von der Seite.",
            axes: { rotation: +1, distal: +2, submission: +1, top: -1 },
            sig: { legEntanglementAffinity: +1 },
          },
          B: {
            text: "Du setzt Front Headlock oder Darce aus dem √úbergang.",
            axes: { submission: +2, rotation: +1 },
            sig: { frontHeadlockAffinity: +2 },
          },
          C: {
            text: "Du erh√∂hst Pressure, passierst zu Mount und baust Submissions dort auf.",
            axes: { pressure: +2, top: +1, submission: -1 },
            sig: { pinAffinity: +2 },
          },
        },
        {
          id: 13,
          block: "Energiemodell & Taktik",
          situation:
            "Mitten im Match ‚Äì du bist leicht im Nachteil nach Punkten.",
          question: "Wie managst du deine Energie und Taktik?",
          A: {
            text: "Du bleibst ruhig und konstant ‚Äì keine Hektik, sauber weiterarbeiten.",
            axes: { pressure: +1 },
            sig: { pinAffinity: +1 },
          },
          B: {
            text: "Du wartest auf den richtigen Moment und machst dann einen gezielten Burst.",
            axes: { rotation: +1, submission: +1 },
            sig: { resetAffinity: +1 },
          },
          C: {
            text: "Du erzeugst aktiv ein Scramble um das Momentum zu brechen.",
            axes: { rotation: +2, submission: +1 },
            sig: { resetAffinity: +2 },
          },
        },
        {
          id: 14,
          block: "Energiemodell & Taktik",
          situation: "Letzte 30 Sekunden des Matches. Du f√ºhrst knapp.",
          question: "Was tust du?",
          A: {
            text: "Du h√§ltst Position und kontrollierst sauber durch ‚Äì Finger weg vom Risiko.",
            axes: { pressure: +2, top: +1, submission: -1 },
            sig: { pinAffinity: +2 },
          },
          B: {
            text: "Du gehst auf eine saubere Submission ‚Äì du willst finishen.",
            axes: { submission: +2 },
            sig: { frontHeadlockAffinity: +1 },
          },
          C: {
            text: "Du erzeugst ein letztes Scramble und jagst Back-Take oder Finish.",
            axes: { rotation: +2, submission: +2 },
            sig: { resetAffinity: +1 },
          },
        },
      ];

      // Group questions by block for display
      const BJJ_BLOCKS = [...new Set(BJJ_QUESTIONS.map((q) => q.block))];

      // --- BJJ Scoring Engine ---
      function bjjComputeAxisMinMax() {
        const axes = ["top", "pressure", "submission", "distal", "rotation"];
        const mn = {
          top: 0,
          pressure: 0,
          submission: 0,
          distal: 0,
          rotation: 0,
        };
        const mx = {
          top: 0,
          pressure: 0,
          submission: 0,
          distal: 0,
          rotation: 0,
        };
        for (let q = 1; q <= 14; q++) {
          const qd = BJJ_QUESTIONS[q - 1];
          const opts = ["A", "B", "C"].map((c) => qd[c].axes);
          axes.forEach((ax) => {
            const vals = opts.map((o) => o[ax] || 0);
            mn[ax] += Math.min(...vals);
            mx[ax] += Math.max(...vals);
          });
        }
        return { min: mn, max: mx };
      }
      const BJJ_AX_MM = bjjComputeAxisMinMax();

      function bjjComputeSigMax() {
        const sigKeys = [
          "frontHeadlockAffinity",
          "resetAffinity",
          "pinAffinity",
          "legEntanglementAffinity",
        ];
        const maxSig = {
          frontHeadlockAffinity: 0,
          resetAffinity: 0,
          pinAffinity: 0,
          legEntanglementAffinity: 0,
        };
        for (let q = 1; q <= 14; q++) {
          const qd = BJJ_QUESTIONS[q - 1];
          sigKeys.forEach((k) => {
            const vals = ["A", "B", "C"].map(
              (c) => (qd[c].sig && qd[c].sig[k]) || 0,
            );
            maxSig[k] += Math.max(...vals);
          });
        }
        return maxSig;
      }
      const BJJ_SIG_MAX = bjjComputeSigMax();

      function clamp01(x) {
        return Math.max(0, Math.min(1, x));
      }
      function normalize(raw, min, max) {
        return Math.round(clamp01((raw - min) / (max - min)) * 100);
      }

      function bjjScore(answersMap) {
        const rawA = {
          top: 0,
          pressure: 0,
          submission: 0,
          distal: 0,
          rotation: 0,
        };
        const rawS = {
          frontHeadlockAffinity: 0,
          resetAffinity: 0,
          pinAffinity: 0,
          legEntanglementAffinity: 0,
        };
        for (let q = 1; q <= 14; q++) {
          const c = answersMap[q];
          if (!c) continue;
          const qd = BJJ_QUESTIONS[q - 1];
          const w = qd[c];
          Object.entries(w.axes || {}).forEach(([ax, v]) => {
            rawA[ax] = (rawA[ax] || 0) + v;
          });
          if (w.sig)
            Object.entries(w.sig).forEach(([k, v]) => {
              rawS[k] = (rawS[k] || 0) + v;
            });
        }
        const axes = {
          top: normalize(rawA.top, BJJ_AX_MM.min.top, BJJ_AX_MM.max.top),
          pressure: normalize(
            rawA.pressure,
            BJJ_AX_MM.min.pressure,
            BJJ_AX_MM.max.pressure,
          ),
          submission: normalize(
            rawA.submission,
            BJJ_AX_MM.min.submission,
            BJJ_AX_MM.max.submission,
          ),
          distal: normalize(
            rawA.distal,
            BJJ_AX_MM.min.distal,
            BJJ_AX_MM.max.distal,
          ),
          rotation: normalize(
            rawA.rotation,
            BJJ_AX_MM.min.rotation,
            BJJ_AX_MM.max.rotation,
          ),
        };
        const sig = {
          frontHeadlockAffinity: Math.round(
            (rawS.frontHeadlockAffinity /
              (BJJ_SIG_MAX.frontHeadlockAffinity || 1)) *
              100,
          ),
          resetAffinity: Math.round(
            (rawS.resetAffinity / (BJJ_SIG_MAX.resetAffinity || 1)) * 100,
          ),
          pinAffinity: Math.round(
            (rawS.pinAffinity / (BJJ_SIG_MAX.pinAffinity || 1)) * 100,
          ),
          legEntanglementAffinity: Math.round(
            (rawS.legEntanglementAffinity /
              (BJJ_SIG_MAX.legEntanglementAffinity || 1)) *
              100,
          ),
        };
        return { axes, sig };
      }

      function bjjEuclid(a, b) {
        const ax = ["top", "pressure", "submission", "distal", "rotation"];
        return Math.sqrt(ax.reduce((s, k) => s + (a[k] - b[k]) ** 2, 0));
      }
      function bjjCosine(a, b) {
        const ax = ["top", "pressure", "submission", "distal", "rotation"];
        const dot = ax.reduce((s, k) => s + a[k] * b[k], 0);
        const na = Math.sqrt(ax.reduce((s, k) => s + a[k] * a[k], 0));
        const nb = Math.sqrt(ax.reduce((s, k) => s + b[k] * b[k], 0));
        return dot / (na * nb + 1e-9);
      }
      function bjjSigDist(a, b) {
        return (
          Math.abs(a.frontHeadlockAffinity - b.frontHeadlockAffinity) +
          Math.abs(a.resetAffinity - b.resetAffinity) +
          Math.abs(a.pinAffinity - b.pinAffinity) +
          Math.abs(a.legEntanglementAffinity - b.legEntanglementAffinity)
        );
      }

      function bjjClassify(axes, sig) {
        const list = Object.values(BJJ_ARCHETYPES).map((p) => {
          const d0 = bjjEuclid(axes, p.centroid);
          const sigD = bjjSigDist(sig, {
            frontHeadlockAffinity: p.centroid.submission * 0.5,
            resetAffinity: 30,
            pinAffinity: p.centroid.pressure * 0.7,
            legEntanglementAffinity: p.centroid.distal * 0.8,
          });
          const sigFactor = 1 - Math.min(0.2, sigD / 900);
          const d = d0 * sigFactor;
          const sim = bjjCosine(axes, p.centroid);
          const confidence = Math.round(clamp01((sim + 0.15) / 1.15) * 100);
          return { id: p.id, dist: d, confidence };
        });
        list.sort((a, b) => a.dist - b.dist);
        const inv = list.map((x) => 1 / (x.dist + 1e-6));
        const sum = inv.reduce((a, b) => a + b, 0);
        const dist = list.map((x, i) => ({
          id: x.id,
          share: Math.round((inv[i] / sum) * 100),
          confidence: x.confidence,
        }));
        const total = dist.reduce((a, b) => a + b.share, 0);
        dist[0].share += 100 - total;
        const notes = [];
        if (dist[0].share - dist[1].share < 10)
          notes.push(
            "Hybridprofil: Du bist eine stabile Mischung aus zwei Archetypen.",
          );
        if (sig.frontHeadlockAffinity > 70)
          notes.push(
            "Hohe Front-Headlock-Affinit√§t: No-Gi Meta-Hebel f√ºr Resets und Finishes.",
          );
        if (sig.legEntanglementAffinity > 70)
          notes.push(
            "Hohe Leg-Affinit√§t: Knee-Line Management ist zentral f√ºr deine Win-Conditions.",
          );
        if (sig.pinAffinity > 70)
          notes.push(
            "Hohe Pin-Affinit√§t: Flattening/Frames brechen ist ein Kern deiner Kontrolle.",
          );
        if (sig.resetAffinity > 70)
          notes.push(
            "Hohe Reset-Affinit√§t: Stand-up/Neuaufbau ist ein zentraler Teil deines Stils.",
          );
        return {
          primary: dist[0],
          secondary: dist[1],
          distribution: dist,
          notes,
        };
      }

      // Matchup matrix
      function bjjWeightedDelta(aId, bId) {
        const a = BJJ_ARCHETYPES[aId];
        const b = BJJ_ARCHETYPES[bId];
        const ax = ["top", "pressure", "submission", "distal", "rotation"];
        const imp = {
          OCTOPUS: {
            top: 1.0,
            pressure: 1.2,
            submission: 1.2,
            distal: 1.6,
            rotation: 1.1,
          },
          GORILLA: {
            top: 1.7,
            pressure: 1.4,
            submission: 0.9,
            distal: 0.8,
            rotation: 0.8,
          },
          CROCODILE: {
            top: 1.5,
            pressure: 1.8,
            submission: 0.8,
            distal: 0.7,
            rotation: 0.7,
          },
          PANTHER: {
            top: 1.1,
            pressure: 1.0,
            submission: 1.2,
            distal: 0.9,
            rotation: 1.9,
          },
          VIPER: {
            top: 1.0,
            pressure: 0.9,
            submission: 1.7,
            distal: 2.0,
            rotation: 1.3,
          },
          SPIDER: {
            top: 1.0,
            pressure: 1.0,
            submission: 2.0,
            distal: 1.1,
            rotation: 1.2,
          },
          ANACONDA: {
            top: 1.1,
            pressure: 1.2,
            submission: 1.9,
            distal: 0.8,
            rotation: 1.0,
          },
          MANTIS: {
            top: 1.1,
            pressure: 1.0,
            submission: 1.2,
            distal: 1.2,
            rotation: 1.6,
          },
        };
        let s = 0;
        for (const k of ax) {
          const da = (a.centroid[k] - b.centroid[k]) / 100;
          s += da * ((imp[aId][k] || 1) + (imp[bId][k] || 1) * 0.65);
        }
        let meta = 0;
        if (a.centroid.pressure > 85 && (bId === "SPIDER" || bId === "OCTOPUS"))
          meta += 0.18;
        if (b.centroid.pressure > 85 && (aId === "SPIDER" || aId === "OCTOPUS"))
          meta -= 0.18;
        if (aId === "VIPER" && (bId === "GORILLA" || bId === "CROCODILE"))
          meta += 0.14;
        if (bId === "VIPER" && (aId === "GORILLA" || aId === "CROCODILE"))
          meta -= 0.14;
        if (aId === "ANACONDA" && (bId === "GORILLA" || bId === "CROCODILE"))
          meta += 0.12;
        if (bId === "ANACONDA" && (aId === "GORILLA" || aId === "CROCODILE"))
          meta -= 0.12;
        if (aId === "PANTHER" && b.centroid.pressure > 80) meta += 0.06;
        if (bId === "PANTHER" && a.centroid.pressure > 80) meta -= 0.06;
        if (aId === "MANTIS" || bId === "MANTIS") meta *= 0.85;
        return s + meta;
      }

      function buildBJJMatrix() {
        const ids = Object.keys(BJJ_ARCHETYPES);
        const result = {};
        ids.forEach((a) => {
          result[a] = {};
          ids.forEach((b) => {
            const s = bjjWeightedDelta(a, b);
            const adv = s > 0.35 ? "A" : s < -0.35 ? "B" : "EVEN";
            result[a][b] = { adv, score: Math.round(s * 100) / 100 };
          });
        });
        return { ids, result };
      }

      // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
      // BJJ STATE & UI
      // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
      const bjjAnswers = {};

      function buildBJJQuiz() {
        const container = document.getElementById("qc-bjj");
        container.innerHTML = "";
        let lastBlock = null;
        BJJ_QUESTIONS.forEach((q, idx) => {
          if (q.block !== lastBlock) {
            lastBlock = q.block;
            const h = document.createElement("div");
            h.className = "attr-section-header";
            h.innerHTML =
              '<span class="attr-key-badge">' +
              (idx + 1) +
              "‚Äì" +
              Math.min(idx + 2, 14) +
              "</span>" +
              q.block;
            container.appendChild(h);
          }
          const block = document.createElement("div");
          block.className = "q-block";
          block.id = "qblock-bjj-" + q.id;
          block.innerHTML = `<div class="q-header"><div class="q-num" id="qnum-bjj-${q.id}">${String(idx + 1).padStart(2, "0")}</div><div style="flex:1"><div class="q-situation">${q.situation}</div><div class="q-title">${q.question}</div></div></div>
    <div class="options-grid">
      ${["A", "B", "C"].map((c) => `<div class="opt-card" id="opt-bjj-${q.id}-${c}" onclick="selectBJJOption(${q.id},'${c}')"><div class="opt-letter">${c}</div><div class="opt-text">${q[c].text}</div></div>`).join("")}
    </div>`;
          container.appendChild(block);
        });
        updateBJJProgress();
      }

      function selectBJJOption(qid, choice) {
        bjjAnswers[qid] = choice;
        ["A", "B", "C"].forEach((c) => {
          const el = document.getElementById("opt-bjj-" + qid + "-" + c);
          if (el) el.classList.toggle("selected", c === choice);
        });
        document.getElementById("qblock-bjj-" + qid).classList.add("answered");
        document.getElementById("qnum-bjj-" + qid).style.color =
          "var(--accent2)";
        updateBJJProgress();
      }

      function updateBJJProgress() {
        const count = Object.keys(bjjAnswers).length;
        const total = 14;
        document.getElementById("pf-bjj").style.width =
          (count / total) * 100 + "%";
        document.getElementById("pt-bjj").textContent = count + " / " + total;
        const btn = document.getElementById("bs-bjj");
        btn.disabled = count < total;
        document.getElementById("ci-bjj").textContent =
          count < total
            ? "Noch " + (total - count) + " Frage(n) offen."
            : "Alle Antworten vollst√§ndig ‚Äì bereit.";
      }

      function showBJJResults() {
        const { axes, sig } = bjjScore(bjjAnswers);
        const classification = bjjClassify(axes, sig);
        const primary = BJJ_ARCHETYPES[classification.primary.id];
        const secondary = BJJ_ARCHETYPES[classification.secondary.id];

        document.getElementById("quiz-bjj").style.display = "none";
        const ra = document.getElementById("bjj-results-area");
        ra.style.display = "block";
        ra.scrollIntoView({ behavior: "smooth" });

        // Hero
        const rh = document.getElementById("rh-bjj");
        rh.setAttribute("data-style", primary.label.toUpperCase());
        rh.innerHTML = `
    ${renderArchImage(primary.label, primary.color, "result")}
    <div class="result-label">Dein No-Gi BJJ Profil</div>
    <div class="result-name">${primary.label}</div>
    <div style="font-family:var(--font-mono);font-size:11px;letter-spacing:2px;text-transform:uppercase;color:var(--muted);margin-bottom:8px;">${primary.archetypeName}</div>
    <div class="result-desc">${primary.oneLiner}</div>
    <div class="kpi-row">
      <div class="kpi"><div class="kpi-label">Prim√§r</div><div class="kpi-val" style="font-size:20px;line-height:1.2">${primary.label}</div></div>
      <div class="kpi"><div class="kpi-label">Anteil</div><div class="kpi-val">${classification.primary.share}%</div></div>
      <div class="kpi"><div class="kpi-label">Sekund√§r</div><div class="kpi-val" style="font-size:20px;line-height:1.2">${secondary.label}</div></div>
      <div class="kpi"><div class="kpi-label">Anteil</div><div class="kpi-val">${classification.secondary.share}%</div></div>
    </div>
    ${classification.primary.share - classification.secondary.share < 10 ? `<div class="hybrid-notice">Hybridprofil: "${primary.label}" + "${secondary.label}" ‚Äì beide Archetypen sind gleichwertig aktiv.</div>` : ""}`;

        // Deep dive
        document.getElementById("dd-bjj").innerHTML = primary.longdesc
          .map(
            (p, i) =>
              `<p class="deepdive-intro${i > 0 ? " deepdive-body" : ""}">${p}</p>`,
          )
          .join("");
        document.getElementById("sw-bjj").innerHTML = `
    <div class="sw-box"><div class="sw-title pos">St√§rken</div><ul class="sw-list">${primary.strengths.map((s) => `<li class="pos">${s}</li>`).join("")}</ul></div>
    <div class="sw-box"><div class="sw-title neg">Schw√§chen</div><ul class="sw-list">${primary.weaknesses.map((w) => `<li class="neg">${w}</li>`).join("")}</ul></div>`;

        // Signatures
        const sigColors = {
          frontHeadlockAffinity: "#C0392B",
          resetAffinity: "#D4A574",
          pinAffinity: "#4A7C4E",
          legEntanglementAffinity: "#5B99C2",
        };
        const sigLabels = {
          frontHeadlockAffinity: "Front Headlock",
          resetAffinity: "Reset / Stand-up",
          pinAffinity: "Pins / Flattening",
          legEntanglementAffinity: "Leg Entanglement",
        };
        document.getElementById("sig-bjj").innerHTML = Object.entries(sigLabels)
          .map(
            ([k, label]) => `
    <div class="sig-box">
      <div class="sig-label">${label}</div>
      <div class="sig-bar-track"><div class="sig-bar-fill" style="width:${sig[k]}%;background:${sigColors[k]}"></div></div>
      <div class="sig-val">${sig[k]}%</div>
    </div>`,
          )
          .join("");

        // Radar (5 axes)
        setTimeout(() => drawBJJRadar(axes, primary), 80);

        // Archetype distribution
        document.getElementById("arch-dist-bjj").innerHTML =
          classification.distribution
            .map((d) => {
              const arch = BJJ_ARCHETYPES[d.id];
              return `<div class="arch-dist-row"><div class="arch-dist-label">${arch.label}</div><div class="arch-dist-track"><div class="arch-dist-fill" style="width:${d.share}%;background:${d.id === primary.id ? arch.color : "#d8d2c8"}"></div></div><div class="arch-dist-pct">${d.share}%</div></div>`;
            })
            .join("");

        // Win conditions & anti-patterns
        document.getElementById("wc-bjj").innerHTML = primary.winConditions
          .map((w) => `<li>${w}</li>`)
          .join("");
        document.getElementById("ap-bjj").innerHTML = primary.antiPatterns
          .map((a) => `<li>${a}</li>`)
          .join("");

        // Notes
        document.getElementById("notes-bjj").innerHTML = classification.notes
          .length
          ? classification.notes
              .map((n) => `<div class="note-item">${n}</div>`)
              .join("")
          : '<div style="font-size:13px;color:var(--muted)">Kein besonderer Hinweis ‚Äì klares Profil.</div>';

        // Matchup matrix
        const { ids, result } = buildBJJMatrix();
        const labels = {
          OCTOPUS: "Octopus",
          GORILLA: "Gorilla",
          CROCODILE: "Croc",
          PANTHER: "Panther",
          VIPER: "Viper",
          SPIDER: "Spider",
          ANACONDA: "Anaconda",
          MANTIS: "Mantis",
        };
        let mt = `<table class="matchup-matrix"><thead><tr><th></th>${ids.map((id) => `<th>${labels[id]}</th>`).join("")}</tr></thead><tbody>`;
        ids.forEach((rowId) => {
          mt += `<tr><th>${labels[rowId]}</th>`;
          ids.forEach((colId) => {
            if (rowId === colId) {
              mt += `<td class="self">‚Äî</td>`;
              return;
            }
            const cell = result[rowId][colId];
            const cssClass =
              cell.adv === "EVEN"
                ? "even"
                : cell.adv === "A"
                  ? "adv-a"
                  : "adv-b";
            const txt =
              cell.adv === "EVEN" ? "~" : cell.adv === "A" ? "‚úì" : "‚úó";
            mt += `<td class="${cssClass}">${txt}</td>`;
          });
          mt += "</tr>";
        });
        mt += "</tbody></table>";
        mt +=
          '<div style="font-size:11px;color:var(--muted);margin-top:8px;font-family:var(--font-mono)">‚úì = Zeile hat Vorteil ¬∑ ‚úó = Nachteil ¬∑ ~ = Ausgeglichen</div>';
        document.getElementById("matrix-bjj").innerHTML = mt;

        // Answers
        document.getElementById("at-bjj").innerHTML = BJJ_QUESTIONS.map((q) => {
          const c = bjjAnswers[q.id];
          if (!c) return "";
          return `<div class="answer-group"><div class="answer-group-header"><div><div class="ans-key">Frage ${q.id}</div><div class="ans-attr-label">${q.block}</div></div><div class="ans-result-badge">${c}</div></div><div class="ans-q-rows"><div class="ans-q-row"><span class="ans-q-label">${c}</span><span class="ans-q-text">${q[c].text}</span><span class="ans-q-situation">${q.situation}</span></div></div></div>`;
        }).join("");
      }

      function resetBJJTest() {
        Object.keys(bjjAnswers).forEach((k) => delete bjjAnswers[k]);
        document.getElementById("bjj-results-area").style.display = "none";
        document.getElementById("quiz-bjj").style.display = "block";
        buildBJJQuiz();
        window.scrollTo({ top: 0, behavior: "smooth" });
      }

      // BJJ Radar (5 axes)
      function drawBJJRadar(axes, arch) {
        const canvas = document.getElementById("radar-bjj");
        if (!canvas) return;
        const ctx = canvas.getContext("2d");
        const W = canvas.width,
          H = canvas.height;
        const cx = W / 2,
          cy = H / 2 + 8,
          R = Math.min(W, H) * 0.34;
        const axisKeys = [
          "top",
          "pressure",
          "submission",
          "distal",
          "rotation",
        ];
        const axisLabels = ["TOP", "PRESSURE", "SUB", "DISTAL", "ROT"];
        const N = 5;
        const angles = Array.from(
          { length: N },
          (_, i) => (i / N) * 2 * Math.PI - Math.PI / 2,
        );
        ctx.clearRect(0, 0, W, H);
        [20, 40, 60, 80, 100].forEach((level) => {
          ctx.beginPath();
          angles.forEach((a, i) => {
            const r = (level / 100) * R,
              x = cx + r * Math.cos(a),
              y = cy + r * Math.sin(a);
            i === 0 ? ctx.moveTo(x, y) : ctx.lineTo(x, y);
          });
          ctx.closePath();
          ctx.strokeStyle = "rgba(0,0,0,0.08)";
          ctx.lineWidth = 1;
          ctx.stroke();
        });
        angles.forEach((a) => {
          ctx.beginPath();
          ctx.moveTo(cx, cy);
          ctx.lineTo(cx + R * Math.cos(a), cy + R * Math.sin(a));
          ctx.strokeStyle = "rgba(0,0,0,0.08)";
          ctx.lineWidth = 1;
          ctx.stroke();
        });
        // Archetype centroid
        if (arch && arch.centroid) {
          ctx.beginPath();
          axisKeys.forEach((k, i) => {
            const r = (arch.centroid[k] / 100) * R,
              x = cx + r * Math.cos(angles[i]),
              y = cy + r * Math.sin(angles[i]);
            i === 0 ? ctx.moveTo(x, y) : ctx.lineTo(x, y);
          });
          ctx.closePath();
          ctx.fillStyle = arch.color + "18";
          ctx.fill();
          ctx.strokeStyle = arch.color + "55";
          ctx.lineWidth = 2;
          ctx.setLineDash([4, 4]);
          ctx.stroke();
          ctx.setLineDash([]);
        }
        // User
        ctx.beginPath();
        axisKeys.forEach((k, i) => {
          const r = (axes[k] / 100) * R,
            x = cx + r * Math.cos(angles[i]),
            y = cy + r * Math.sin(angles[i]);
          i === 0 ? ctx.moveTo(x, y) : ctx.lineTo(x, y);
        });
        ctx.closePath();
        ctx.fillStyle = "rgba(138,106,31,0.08)";
        ctx.fill();
        ctx.strokeStyle = "#8a6a1f";
        ctx.lineWidth = 2;
        ctx.stroke();
        axisKeys.forEach((k, i) => {
          const r = (axes[k] / 100) * R,
            x = cx + r * Math.cos(angles[i]),
            y = cy + r * Math.sin(angles[i]);
          ctx.beginPath();
          ctx.arc(x, y, 4, 0, Math.PI * 2);
          ctx.fillStyle = "#8a6a1f";
          ctx.fill();
        });
        ctx.font = "bold 9px monospace";
        ctx.fillStyle = "#8a8278";
        ctx.textAlign = "center";
        ctx.textBaseline = "middle";
        angles.forEach((a, i) =>
          ctx.fillText(
            axisLabels[i],
            cx + (R + 22) * Math.cos(a),
            cy + (R + 22) * Math.sin(a),
          ),
        );
        // Legend
        ctx.font = "10px sans-serif";
        ctx.textAlign = "left";
        ctx.fillStyle = "#8a6a1f";
        ctx.beginPath();
        ctx.arc(18, H - 24, 3.5, 0, Math.PI * 2);
        ctx.fill();
        ctx.fillStyle = "#5a4a30";
        ctx.fillText("Du", 27, H - 24);
        if (arch) {
          ctx.fillStyle = arch.color + "99";
          ctx.setLineDash([3, 3]);
          ctx.beginPath();
          ctx.moveTo(48, H - 24);
          ctx.lineTo(63, H - 24);
          ctx.stroke();
          ctx.setLineDash([]);
          ctx.fillStyle = "#8a8278";
          ctx.fillText(arch.label, 67, H - 24);
        }
      }

      // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
      // BJJ LIBRARY CONTENT
      // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
      function buildBJJLibrary() {
        const container = document.getElementById("lib-bjj");
        let html = `<div style="display:flex;align-items:baseline;justify-content:space-between;margin-bottom:20px;padding-bottom:12px;border-bottom:1px solid var(--border);">
    <div style="font-family:var(--font-display);font-size:22px;letter-spacing:1px;color:var(--accent);">ü•ã No-Gi BJJ ‚Äì 8 ARCHETYPEN</div>
    <button class="lib-start-btn" onclick="showPage('bjj')">TEST STARTEN</button>
  </div>
  <div style="background:rgba(181,137,30,0.06);border-left:3px solid var(--accent2);border-radius:0 4px 4px 0;padding:12px 16px;margin-bottom:24px;font-size:13px;color:var(--muted);">
    <strong style="color:var(--accent2)">No-Gi Framework:</strong> 5 Achsen (Top-Orientierung, Pressure, Submission-Initiative, Distal-Fokus, Rotation/Backline) + 4 Meta-Signaturen (Front Headlock, Leg Entanglement, Pins/Flattening, Reset/Stand-up).
  </div>
  <div class="lib-archetypes-grid">`;
        Object.values(BJJ_ARCHETYPES).forEach((arch) => {
          const key = arch.id;
          html += `<div class="lib-archetype-card" id="lib-card-bjj-${key}" onclick="toggleLibCard('bjj','${key}')">
      <div class="lib-card-header">
        <div class="lib-card-color" style="background:${arch.color}"></div>
        <div class="lib-card-titles">
          <div class="lib-card-name">${arch.label}</div>
          <div class="lib-card-sub">${arch.oneLiner.substring(0, 62)}...</div>
        </div>
        <div class="lib-card-chevron">‚ñº</div>
      </div>
      <div class="lib-card-body">
        ${renderArchImage(arch.label, arch.color, "lib")}
        ${arch.longdesc.map((p, i) => `<p class="lib-body-desc${i > 0 ? " muted" : ""}">${p}</p>`).join("")}
        <div style="margin-bottom:12px">
          <div style="font-family:var(--font-mono);font-size:9px;letter-spacing:2px;text-transform:uppercase;color:var(--accent2);margin-bottom:6px">SUBTYPEN</div>
          <div class="lib-boxers">${arch.subArchetypes.map((s) => `<div class="lib-boxer-chip">${s}</div>`).join("")}</div>
        </div>
        <div class="lib-sw-row">
          <div class="lib-sw-box"><div class="lib-sw-title pos">Win-Conditions</div><ul class="lib-sw-list">${arch.winConditions.map((w) => `<li class="pos">${w}</li>`).join("")}</ul></div>
          <div class="lib-sw-box"><div class="lib-sw-title neg">Anti-Patterns</div><ul class="lib-sw-list">${arch.antiPatterns.map((w) => `<li class="neg">${w}</li>`).join("")}</ul></div>
        </div>
        <div class="lib-sw-row">
          <div class="lib-sw-box"><div class="lib-sw-title pos">St√§rken</div><ul class="lib-sw-list">${arch.strengths.map((s) => `<li class="pos">${s}</li>`).join("")}</ul></div>
          <div class="lib-sw-box"><div class="lib-sw-title neg">Schw√§chen</div><ul class="lib-sw-list">${arch.weaknesses.map((w) => `<li class="neg">${w}</li>`).join("")}</ul></div>
        </div>
        <div class="lib-matchup-box"><strong>MATCHUP:</strong> ${arch.matchup}</div>
        <div class="lib-boxers" style="margin-top:12px">${arch.boxers.map((b) => `<div class="lib-boxer-chip">${b}</div>`).join("")}</div>
      </div>
    </div>`;
        });
        html += "</div>";
        // Comparison table
        html += `<div class="lib-compare-section">
  <div class="lib-compare-title">ARCHETYPEN-VERGLEICH: No-Gi BJJ</div>
  <div style="overflow-x:auto"><table class="lib-compare-table">
    <thead><tr><th>Archetyp</th><th>Kern-System</th><th>Prim√§re Achse</th><th>Stark gegen</th><th>Schwierig gegen</th></tr></thead>
    <tbody>`;
        Object.values(BJJ_ARCHETYPES).forEach((arch) => {
          const axKeys = [
            "top",
            "pressure",
            "submission",
            "distal",
            "rotation",
          ];
          const axLabels = [
            "Top",
            "Pressure",
            "Submission",
            "Distal",
            "Rotation",
          ];
          const primary = axKeys.reduce(
            (best, k) => (arch.centroid[k] > arch.centroid[best] ? k : best),
            axKeys[0],
          );
          const primaryLabel = axLabels[axKeys.indexOf(primary)];
          html += `<tr>
      <td><div class="lib-compare-name"><div class="lib-dot" style="background:${arch.color}"></div>${arch.label}</div></td>
      <td style="font-size:12px;color:var(--muted)">${arch.oneLiner.substring(0, 55)}...</td>
      <td style="color:var(--accent2);font-size:12px;font-family:var(--font-mono)">${primaryLabel} (${arch.centroid[primary]})</td>
      <td style="color:#4a7c4e;font-size:12px">${arch.matchup.split(".")[0]}.</td>
      <td style="color:#9b3a2f;font-size:12px">${arch.matchup.split(".")[1] || "‚Äì"}.</td>
    </tr>`;
        });
        html += "</tbody></table></div></div>";
        container.innerHTML = html;
      }

      function toggleLibCard(sport, nameKey) {
        const card = document.getElementById(
          "lib-card-" + sport + "-" + nameKey,
        );
        if (card) card.classList.toggle("expanded");
      }

      // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
      // OTHER SPORTS DATA (Boxing, MMA, Muay Thai ‚Äì unchanged)
      // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
      const SPORTS = {};

      SPORTS.boxing = {
        attrs: [
          { key: "D", label: "Distanzpr√§ferenz" },
          { key: "I", label: "Initiativstruktur" },
          { key: "O", label: "Offensivstruktur" },
          { key: "K", label: "Kraftprofil" },
          { key: "Def", label: "Defensives Prinzip" },
          { key: "B", label: "Bewegungscharakter" },
          { key: "E", label: "Energiegrundtyp" },
        ],
        attrLabels: {
          D: ["Langdistanz", "Mitteldistanz", "Kurzdistanz"],
          I: ["Reaktiv", "Hybrid", "Initiativ"],
          O: ["Einzelpr√§zision", "Kombinationen", "Serien/Volumen"],
          K: ["Pr√§zisionsdominant", "Ausgewogen", "Power-dominant"],
          Def: ["Vermeidung", "Kontaktakzeptanz", "Slip & Konter"],
          B: ["Zirkul√§r/Winkel", "Linear", "Druckschiebend"],
          E: ["Rhythmisch", "Hybrid", "Explosiv"],
        },
        questions: [
          {
            id: 1,
            attr: "D",
            situation: "Du triffst mit einer 1‚Äì2. Der Gegner bleibt stehen.",
            question: "Was passiert typischerweise?",
            options: [
              {
                val: 1,
                label: "A",
                text: "Du bleibst drau√üen und arbeitest weiter mit dem Jab.",
              },
              {
                val: 2,
                label: "B",
                text: "Du bleibst im Pocket und setzt Kombinationen nach.",
              },
              {
                val: 3,
                label: "C",
                text: "Du gehst enger rein und arbeitest Haken/Uppercuts.",
              },
            ],
          },
          {
            id: 2,
            attr: "D",
            situation: "Der Gegner dr√ºckt dich an die Seile.",
            question: "Was machst du?",
            options: [
              {
                val: 1,
                label: "A",
                text: "Du versuchst schnell rauszuwinkeln.",
              },
              {
                val: 2,
                label: "B",
                text: "Du arbeitest im Pocket und feuerst zur√ºck.",
              },
              { val: 3, label: "C", text: "Du gehst in den Infight/Clinch." },
            ],
          },
          {
            id: 3,
            attr: "I",
            situation: "Beide stehen sich neutral gegen√ºber.",
            question: "Was passiert als n√§chstes?",
            options: [
              {
                val: 1,
                label: "A",
                text: "Du wartest auf seine erste Aktion.",
              },
              {
                val: 2,
                label: "B",
                text: "Du feintest und reagierst auf seine Reaktion.",
              },
              {
                val: 3,
                label: "C",
                text: "Du er√∂ffnest aktiv mit Jab oder Kombination.",
              },
            ],
          },
          {
            id: 4,
            attr: "I",
            situation: "Der Gegner hat gerade eine gute Aktion gelandet.",
            question: "Wie reagierst du?",
            options: [
              {
                val: 1,
                label: "A",
                text: "Du wirst vorsichtiger und liest erst wieder.",
              },
              {
                val: 2,
                label: "B",
                text: "Du passt Rhythmus an und testest neu.",
              },
              {
                val: 3,
                label: "C",
                text: "Du erh√∂hst sofort Druck und √ºbernimmst wieder.",
              },
            ],
          },
          {
            id: 5,
            attr: "O",
            situation: "Du siehst eine kleine L√ºcke.",
            question: "Was tust du?",
            options: [
              {
                val: 1,
                label: "A",
                text: "Du setzt einen einzelnen pr√§zisen Schlag.",
              },
              {
                val: 2,
                label: "B",
                text: "Du bringst eine 2‚Äì3er Kombination.",
              },
              { val: 3, label: "C", text: "Du startest eine Serie/Flurry." },
            ],
          },
          {
            id: 6,
            attr: "O",
            situation: "Dein erster Schlag trifft nicht.",
            question: "Was kommt danach?",
            options: [
              { val: 1, label: "A", text: "Du resettest sofort." },
              {
                val: 2,
                label: "B",
                text: "Du baust eine Anschlusskombination.",
              },
              {
                val: 3,
                label: "C",
                text: "Du bleibst drauf und erh√∂hst Volumen.",
              },
            ],
          },
          {
            id: 7,
            attr: "K",
            situation: "Der Gegner respektiert deine Schl√§ge nicht.",
            question: "Was machst du?",
            options: [
              {
                val: 1,
                label: "A",
                text: "Du platzierst pr√§ziser und variierst Winkel.",
              },
              {
                val: 2,
                label: "B",
                text: "Du kombinierst Timing mit mehr Druck.",
              },
              {
                val: 3,
                label: "C",
                text: "Du setzt gezielt harte Einzelschl√§ge.",
              },
            ],
          },
          {
            id: 8,
            attr: "K",
            situation: "Du siehst einen Statement-Moment.",
            question: "Wie nutzt du ihn?",
            options: [
              {
                val: 1,
                label: "A",
                text: "Du triffst sauber und gehst wieder raus.",
              },
              {
                val: 2,
                label: "B",
                text: "Du baust den Moment √ºber eine Kombination auf.",
              },
              {
                val: 3,
                label: "C",
                text: "Du setzt alles auf einen harten Treffer.",
              },
            ],
          },
          {
            id: 9,
            attr: "Def",
            situation:
              "Du beendest eine Kombination ‚Äì der Gegner kontert sofort.",
            question: "Was passiert instinktiv?",
            options: [
              {
                val: 1,
                label: "A",
                text: "Du verl√§sst die Linie (Exit/Schritt raus).",
              },
              {
                val: 2,
                label: "B",
                text: "Du bleibst stehen und blockst/parierst.",
              },
              {
                val: 3,
                label: "C",
                text: "Du slippst und konterst im selben Moment.",
              },
            ],
          },
          {
            id: 10,
            attr: "Def",
            situation: "In der Halbdistanz feuert der Gegner eine 1‚Äì2.",
            question: "Deine Reaktion?",
            options: [
              { val: 1, label: "A", text: "Du gehst aus der Reichweite." },
              { val: 2, label: "B", text: "Du deckst und kontrollierst Arme." },
              {
                val: 3,
                label: "C",
                text: "Du rollst unter dem Cross und antwortest.",
              },
            ],
          },
          {
            id: 11,
            attr: "B",
            situation: "Der Gegner folgt dir aggressiv.",
            question: "Wie reagierst du?",
            options: [
              {
                val: 1,
                label: "A",
                text: "Du arbeitest mit Winkeln und bleibst off-line.",
              },
              {
                val: 2,
                label: "B",
                text: "Du gehst rein/raus √ºber gerade Linien.",
              },
              {
                val: 3,
                label: "C",
                text: "Du stellst dich, nimmst Raum und schiebst zur√ºck.",
              },
            ],
          },
          {
            id: 12,
            attr: "B",
            situation: "Direkt nach deinem Angriff.",
            question: "Was machst du sofort danach?",
            options: [
              { val: 1, label: "A", text: "Du drehst raus auf einen Winkel." },
              {
                val: 2,
                label: "B",
                text: "Du machst einen klaren Schritt zur√ºck.",
              },
              { val: 3, label: "C", text: "Du bleibst nah und h√§ltst Druck." },
            ],
          },
          {
            id: 13,
            attr: "E",
            situation: "Mitte der Runde.",
            question: "Wie ist dein Energiemuster?",
            options: [
              { val: 1, label: "A", text: "Dein Tempo bleibt konstant." },
              { val: 2, label: "B", text: "Du wechselst Phasen bewusst." },
              { val: 3, label: "C", text: "Du wartest auf Explosionsmomente." },
            ],
          },
          {
            id: 14,
            attr: "E",
            situation: "Letzte 20 Sekunden der Runde.",
            question: "Was tust du?",
            options: [
              {
                val: 1,
                label: "A",
                text: "Du kontrollierst ruhig und sauber.",
              },
              { val: 2, label: "B", text: "Du erh√∂hst dosiert den Output." },
              { val: 3, label: "C", text: "Du explodierst maximal." },
            ],
          },
        ],
        archetypes: {
          Outboxer: {
            center: [1, 2, 2, 1, 1, 1, 1],
            color: "#5B99C2",
            classic:
              "Kontrolliert Distanz und Tempo von au√üen: Jab, Winkel, klare Exits.",
            longdesc: [
              "Der Outboxer ist der klassische technische Boxer. Sein Ziel ist es, den Kampf aus einer Distanz zu kontrollieren, in der er treffbar ist ‚Äì der Gegner aber nicht.",
              "Nach jeder Aktion verl√§sst er sofort die Linie ‚Äì Pivots und seitliche Schritte sind keine K√ºr, sondern Pflicht.",
              "Die Schw√§che liegt in der Abh√§ngigkeit von Distanz. Sobald ein Pressure Fighter die Distanz schlie√üt, verliert er seinen strukturellen Vorteil.",
              "Trainingstaktisch: viel Arbeit am Jab, konsequentes Exit-Training nach jeder Kombination.",
            ],
            strengths: [
              "Hohes Treffer/Kassierten-Verh√§ltnis",
              "Wenig unn√∂tiger Schaden",
              "Langzeit-Kampfkontrolle",
              "Punkte √ºber technische √úberlegenheit",
            ],
            weaknesses: [
              "Anf√§llig bei geschlossener Distanz",
              "Ben√∂tigt gute Ausdauer und Beinarbeit",
              "Schwierig gegen Ring-Cutting",
            ],
            training: [
              "Jab-Varianten + Exit nach jeder Aktion ‚Äì niemals stehen bleiben.",
              "Pivot/Angle nach dem Cross ‚Äì nicht nur r√ºckw√§rts ausweichen.",
              "Ring-Center-Kontrolle: Winkelerzeugung t√§glich.",
            ],
            matchup:
              "Stark vs. Slugger bei konsequenter Distanzkontrolle. Schwierig gegen Pressure Fighter mit Ring-Cutting.",
            boxers: ["Muhammad Ali", "Larry Holmes", "Wladimir Klitschko"],
          },
          "Counter Puncher": {
            center: [2, 1, 1, 1, 3, 2, 1],
            color: "#D4A574",
            classic:
              "L√§dt Aktionen ein, liest Muster, bestraft Fehler √ºber Timing und pr√§zise Gegenschl√§ge.",
            longdesc: [
              "Der Counter Puncher wirkt oft passiv ‚Äì ist aber ein hochaktives, reaktives System.",
              "Direkt aus der Defensivbewegung heraus ‚Äì Slip + Counter, Roll + Uppercut, Parry + Cross ‚Äì kommen seine besten Schl√§ge.",
              "Das gr√∂√üte Risiko: gegen einen geduldigen Gegner, der kaum Fehler macht, verliert er Initiative.",
              "Training: Trigger-Drills auf spezifische Muster, Feints als aktives Einladen von Aktionen.",
            ],
            strengths: [
              "Sehr hohe Trefferqualit√§t",
              "Niedriges eigenes Verletzungsrisiko",
              "Defensiv kaum fassbar",
            ],
            weaknesses: [
              "Geringer Output gegen vorsichtige Gegner",
              "Braucht Geduld und mentale St√§rke",
              "Schwierig gegen disziplinierte Outboxer",
            ],
            training: [
              "Trigger-Drills: Overreach des Gegners ‚Üí sofortige pr√§zise Antwort.",
              "Feints als aktives Werkzeug ‚Äì L√ºcken provozieren.",
              "Output-Disziplin: auch aus eigener Initiative Punkte sichern.",
            ],
            matchup:
              "Stark gegen ungeduldige Pressure Fighter. Schwierig gegen geduldige Outboxer.",
            boxers: [
              "Floyd Mayweather Jr.",
              "Juan Manuel M√°rquez",
              "Pernell Whitaker",
            ],
          },
          "Boxer-Puncher": {
            center: [2, 2, 2, 2, 2, 2, 2],
            color: "#C9A84C",
            classic:
              "Allrounder aus der Mitteldistanz: technisch boxen und Schaden setzen, flexibel anpassbar.",
            longdesc: [
              "Der Boxer-Puncher ist der vielseitigste Archetypus.",
              "Er arbeitet aus der Mitteldistanz, wo er sowohl technisch boxen als auch ernsthaften Schaden setzen kann.",
              "Defensiv arbeitet er mit einer Mischung aus Block, Parieren, Slip und situativem Konter.",
              "Training erfordert bewusste Arbeit an beiden Qualit√§ten parallel.",
            ],
            strengths: [
              "Hohe taktische Flexibilit√§t",
              "Kann technisch boxen und Schaden setzen",
              "Anpassbar an viele Gegnertypen",
            ],
            weaknesses: [
              "Kein extremer Spezialist",
              "Hochspezialisierte Gegner k√∂nnen Vorteil erzwingen",
            ],
            training: [
              "Kombi ‚Üí Power-Finish: letzte Aktion als Statement.",
              "Distanzwechsel (lang/mittel/kurz) ohne L√ºcke in der Abwehr.",
              "Defensive Responsibility nach Kombis.",
            ],
            matchup:
              "Breit aufgestellt gegen die meisten Stile. Schwierig gegen absolute Elite-Spezialisten.",
            boxers: ["Canelo √Ålvarez", "Terence Crawford", "Sugar Ray Leonard"],
          },
          Swarmer: {
            center: [3, 3, 3, 2, 2, 3, 2],
            color: "#C0392B",
            classic:
              "Erzwingt Kurzdistanz, Volumen und Body Work ‚Äì gewinnt √ºber Druck, Output und Zerm√ºrbung.",
            longdesc: [
              "Der Swarmer gewinnt K√§mpfe durch Pr√§senz, Willen und systematische Zerm√ºrbung.",
              "Body Work ist keine Nebenaktivit√§t, sondern eine strategische Waffe.",
              "Was ihn so fordernd macht: er verlangt Ausdauer, Physis und den Willen, auch Treffer zu absorbieren.",
              "Training fokussiert auf Ring-Geometrie, Body-Work-Systeme und Kopfpositions-Arbeit.",
            ],
            strengths: [
              "Physisch dominanter Kampfstil",
              "Hoher Output und Zerm√ºrbungseffekt",
              "Stark in sp√§ten Runden",
            ],
            weaknesses: [
              "H√∂here eigene Trefferquote durch Aggression",
              "Erfordert exzellente Kondition",
            ],
            training: [
              "Ring-Cutting: Fluchtwege schlie√üen ‚Äì nicht hinterherlaufen.",
              "Body Work als System: K√∂rper-Kopf-Muster strukturieren.",
              "Im Infight: Kopfposition und Smothering als Schutz.",
            ],
            matchup:
              "Stark gegen station√§re Slugger. Schwierig gegen Counter Puncher mit Exit-Winkeln.",
            boxers: ["Roberto Dur√°n", "Joe Frazier", "Gennadiy Golovkin"],
          },
          Slugger: {
            center: [3, 3, 1, 3, 2, 3, 3],
            color: "#8B5E3C",
            classic:
              "Power-orientiert: wenige Aktionen, maximale Wirkung ‚Äì sucht den Fight-Ending-Treffer.",
            longdesc: [
              "Der Slugger ist der archetypisch gef√§hrlichste Boxer ‚Äì nicht wegen seiner Technik, sondern wegen dessen, was passiert, wenn sein Schlag sitzt.",
              "Die besten Slugger haben subtile Setups: ein Jab, ein Feint, eine kurze K√∂rperaktion.",
              "Hauptschwachpunkt: die Exposition zwischen den Aktionen.",
              "Training erfordert Setup-Arbeit: ohne Feints und Aufbauaktionen wird er berechenbar.",
            ],
            strengths: [
              "Extremes Knockout-Potential",
              "Psychologischer Druck durch Power-Reputation",
              "Ein Treffer kann alles ver√§ndern",
            ],
            weaknesses: [
              "Niedrigere Trefferquote durch Einzelaktionen",
              "Anf√§llig gegen mobile technische Boxer",
            ],
            training: [
              "Setup vor Power: Feints + Jab als Standard.",
              "Mini-Kombis (2er) statt Solo-Power.",
              "Nach dem Schlag: Schritt nach au√üen + Guard-Reset sofort.",
            ],
            matchup:
              "Stark gegen Gegner die stehen bleiben. Schwierig gegen mobile Outboxer.",
            boxers: ["George Foreman", "Deontay Wilder", "Sonny Liston"],
          },
        },
      };

      SPORTS.mma = {
        attrs: [
          { key: "Fd", label: "Kampffeld-Dominanz" },
          { key: "En", label: "Entry-Strategie" },
          { key: "St", label: "Striking-Architektur" },
          { key: "Ca", label: "Cage-Intelligenz" },
          { key: "Gd", label: "Boden-Kontrollprinzip" },
          { key: "Ri", label: "Risiko-Profil" },
          { key: "E", label: "Energiemodell" },
        ],
        attrLabels: {
          Fd: ["Striking-dominant", "Wrestling/Clinch", "Submission/Ground"],
          En: ["Striking-Setup", "Clinch & Bodylock", "Direktes Shooting"],
          St: ["Range-Control", "Pressure / Forward", "Counter / Timing"],
          Ca: ["Raum & Winkel", "Cage Pressure", "Cage Escape"],
          Gd: ["Position‚ÜíDamage", "Scramble & Back", "Submission Chain"],
          Ri: ["Strukturell geduldig", "Adaptiv", "High-Risk"],
          E: ["Konstant", "Phasenweise", "Explosive Peaks"],
        },
        questions: [
          {
            id: 1,
            attr: "Fd",
            situation: "Du hast freie Wahl zu Beginn des Kampfes.",
            question: "Wo willst du den Kampf strukturell f√ºhren?",
            options: [
              {
                val: 1,
                label: "A",
                text: "Im Stand ‚Äì du willst mit Striking kontrollieren.",
              },
              {
                val: 2,
                label: "B",
                text: "An der Cage oder am Boden ‚Äì Wrestle, Control, Grind.",
              },
              {
                val: 3,
                label: "C",
                text: "Am Boden mit Submission-M√∂glichkeiten.",
              },
            ],
          },
          {
            id: 2,
            attr: "Fd",
            situation: "Der Gegner ist st√§rker in deinem bevorzugten Bereich.",
            question: "Was machst du?",
            options: [
              {
                val: 1,
                label: "A",
                text: "Du bleibst im Stand und passt deine Striking-Strategie an.",
              },
              {
                val: 2,
                label: "B",
                text: "Du nutzt Clinch und Takedowns um Position zu erzwingen.",
              },
              {
                val: 3,
                label: "C",
                text: "Du akzeptierst Ground Exchange und suchst Submission.",
              },
            ],
          },
          {
            id: 3,
            attr: "En",
            situation:
              "Du willst den Kampf in dein bevorzugtes Terrain bringen.",
            question: "Wie kommt es dazu?",
            options: [
              {
                val: 1,
                label: "A",
                text: "Du setzt Strikes als Setup f√ºr Level Change.",
              },
              {
                val: 2,
                label: "B",
                text: "Du arbeitest Clinch, Bodylock und Underhook zum Takedown.",
              },
              {
                val: 3,
                label: "C",
                text: "Du shootest direkt ‚Äì Double Leg oder Single Leg.",
              },
            ],
          },
          {
            id: 4,
            attr: "En",
            situation: "Dein erster Takedown-Versuch wird sprawlt.",
            question: "Was folgt?",
            options: [
              {
                val: 1,
                label: "A",
                text: "Du trennst dich, resettest im Stand und nutzt Striking neu.",
              },
              {
                val: 2,
                label: "B",
                text: "Du bleibst im Clinch und suchst Cage-Position oder Trip.",
              },
              {
                val: 3,
                label: "C",
                text: "Du kombinierst auf Single Leg oder Leg Entanglement.",
              },
            ],
          },
          {
            id: 5,
            attr: "St",
            situation: "Du bist im Stand ‚Äì der Gegner ist auf Distanz.",
            question: "Wie arbeitest du?",
            options: [
              {
                val: 1,
                label: "A",
                text: "Range-Control mit Jab, Kicks und Footwork.",
              },
              {
                val: 2,
                label: "B",
                text: "Du gehst nach vorne und erzwingst Exchanges.",
              },
              {
                val: 3,
                label: "C",
                text: "Du wartest auf Fehler und bestraffst pr√§zise.",
              },
            ],
          },
          {
            id: 6,
            attr: "St",
            situation: "Der Gegner er√∂ffnet eine Angriffsserie.",
            question: "Deine Reaktion im Stand?",
            options: [
              {
                val: 1,
                label: "A",
                text: "Du gehst aus der Linie und resettst.",
              },
              {
                val: 2,
                label: "B",
                text: "Du konterst direkt und bleibst im Austausch.",
              },
              {
                val: 3,
                label: "C",
                text: "Du nutzt seine Bewegung f√ºr Konter.",
              },
            ],
          },
          {
            id: 7,
            attr: "Ca",
            situation: "Der Kampf bewegt sich Richtung Cage.",
            question: "Wie nutzt du die Cage?",
            options: [
              {
                val: 1,
                label: "A",
                text: "Du vermeidest die Cage und h√§ltst Open Space.",
              },
              {
                val: 2,
                label: "B",
                text: "Du dr√ºckst den Gegner zur Cage und nutzt Wall Work.",
              },
              {
                val: 3,
                label: "C",
                text: "Wenn du an der Cage bist, arbeitest du auf Escape.",
              },
            ],
          },
          {
            id: 8,
            attr: "Ca",
            situation: "Der Gegner hat dich an der Cage im Clinch.",
            question: "Was tust du?",
            options: [
              {
                val: 1,
                label: "A",
                text: "Du drehst, schaffst Winkel und verl√§sst die Cage.",
              },
              { val: 2, label: "B", text: "Du k√§mpfst den Clinch aktiv." },
              {
                val: 3,
                label: "C",
                text: "Du separierst dich und baust neu auf.",
              },
            ],
          },
          {
            id: 9,
            attr: "Gd",
            situation: "Du hast den Gegner zu Boden gebracht.",
            question: "Was ist dein Fokus?",
            options: [
              {
                val: 1,
                label: "A",
                text: "Du baust Position und Pressure auf ‚Äì dann Schaden.",
              },
              {
                val: 2,
                label: "B",
                text: "Du suchst im Scramble aktiv R√ºcken-Taking.",
              },
              {
                val: 3,
                label: "C",
                text: "Du setzt sofort Submission-Chains.",
              },
            ],
          },
          {
            id: 10,
            attr: "Gd",
            situation: "Du bist unten ‚Äì der Gegner hat Guard Control.",
            question: "Deine Priorit√§t?",
            options: [
              {
                val: 1,
                label: "A",
                text: "Du arbeitest systematisch auf Stand Up.",
              },
              {
                val: 2,
                label: "B",
                text: "Du initierst Scramble und suchst Positionswechsel.",
              },
              {
                val: 3,
                label: "C",
                text: "Du suchst Submission direkt aus dem Guard.",
              },
            ],
          },
          {
            id: 11,
            attr: "Ri",
            situation: "Du liegst nach Punkten leicht zur√ºck.",
            question: "Wie gehst du vor?",
            options: [
              {
                val: 1,
                label: "A",
                text: "Du h√§ltst Struktur und arbeitest geduldig.",
              },
              { val: 2, label: "B", text: "Du brichst Rhythmus und Muster." },
              {
                val: 3,
                label: "C",
                text: "Du gehst aufs Ganze ‚Äì riskanter Angriff.",
              },
            ],
          },
          {
            id: 12,
            attr: "Ri",
            situation: "Du hast eine klare F√ºhrung, aber noch 2 Runden.",
            question: "Wie managst du das?",
            options: [
              {
                val: 1,
                label: "A",
                text: "Du verwaltest und gibst kaum Risiko.",
              },
              { val: 2, label: "B", text: "Du bleibst adaptiv." },
              { val: 3, label: "C", text: "Du suchst den Finish." },
            ],
          },
          {
            id: 13,
            attr: "E",
            situation: "Mitte des Kampfes.",
            question: "Wie ist dein Energiemuster?",
            options: [
              { val: 1, label: "A", text: "Konstant und kontrolliert." },
              { val: 2, label: "B", text: "Du setzt Phasen gezielt." },
              { val: 3, label: "C", text: "Du wartest auf explosive Aktion." },
            ],
          },
          {
            id: 14,
            attr: "E",
            situation: "Letztes Drittel des Kampfes.",
            question: "Wie k√§mpfst du?",
            options: [
              { val: 1, label: "A", text: "Konstanter Druck bis zum Schluss." },
              { val: 2, label: "B", text: "Dosierte Schlussoffensive." },
              { val: 3, label: "C", text: "Alles auf Finish." },
            ],
          },
        ],
        archetypes: {
          "Wrestle-Pressure Controller": {
            center: [2, 2, 1, 2, 1, 1, 1],
            color: "#5B99C2",
            classic: "Clinch-dominant, Cage Work, Position-first.",
            longdesc: [
              "Der Wrestle-Pressure Controller dominiert, weil er den Kampf dorthin bringt, wo er unbequem wird.",
              "Technisch besteht sein System aus Schichten: Clinch-Entry, Wall Work, Takedown zu Top Control.",
              "Schw√§che: gegen einen Counter-Striker mit pr√§zisem Entry-Konter.",
              "Training: Clinch-Mechanik, Cage-Positioning.",
            ],
            strengths: [
              "Kontrolliert Kampffeldwahl komplett",
              "Systematischer Grind",
              "Stark in sp√§ten Runden",
            ],
            weaknesses: [
              "Anf√§llig gegen pr√§zise Counter beim Entry",
              "Guard Player k√∂nnen unten gef√§hrlich werden",
            ],
            training: [
              "Clinch-Entry: Strike-Fake ‚Üí Level Change ‚Üí Takedown.",
              "Cage Work: Underhook-Kampf.",
              "Top Control: GnP-Struktur.",
            ],
            matchup:
              "Stark gegen Submission Hunter ohne Takedown Defense. Schwierig gegen Elite Counter-Striker.",
            boxers: ["Khabib Nurmagomedov", "Kamaru Usman", "Belal Muhammad"],
          },
          "Elite Counter-Striker": {
            center: [1, 1, 3, 3, 1, 1, 1],
            color: "#D4A574",
            classic: "Range-Control, Timing, Cage Escape und Geduld.",
            longdesc: [
              "Der Elite Counter-Striker gewinnt nicht durch Aggression, sondern durch √úberlegenheit in Timing.",
              "Er arbeitet nicht nach vorne ‚Äì er arbeitet, dass der Gegner nach vorne kommt.",
              "Schw√§che: gegen Wrestler mit exzellentem Takedown-Spiel.",
              "Training: Precision Counter-Striking aus Slips.",
            ],
            strengths: [
              "Sehr geringe eigene Trefferquote",
              "Pr√§zise effektive Strikes",
              "Technisch schwer zu scouten",
            ],
            weaknesses: [
              "Exponiert gegen Top-Tier Wrestling",
              "Ben√∂tigt sehr gute Takedown Defense",
            ],
            training: [
              "Counter-Striking aus defensiven Bewegungen.",
              "Cage Escape als offensive Bewegung.",
              "Sprawl als erster automatischer Reflex.",
            ],
            matchup:
              "Stark gegen Pressure Fighter. Schwierig gegen Elite-Wrestler.",
            boxers: ["Israel Adesanya", "Leon Edwards", "Valentina Shevchenko"],
          },
          "Pressure Striker": {
            center: [1, 1, 2, 2, 1, 3, 3],
            color: "#C0392B",
            classic: "Vorw√§rtsbewegung, Schaden-first, hohes Volumen.",
            longdesc: [
              "Der Pressure Striker geht nach vorne und macht den Gegner daf√ºr bezahlen.",
              "Sein Kampfmuster ist klar: Vorw√§rtsbewegung, permanenter Output, Risikobereitschaft.",
              "Schw√§che: seine Aggression macht ihn anf√§llig f√ºr gut gesetzte Counter.",
              "Training: Pressure-Entry-Mechanik ohne Stopp.",
            ],
            strengths: [
              "Physisch bricht er Gegner im Verlauf",
              "Sehr hoher Output",
              "Stark im Infight",
            ],
            weaknesses: [
              "Anf√§llig gegen pr√§zise Counter",
              "Wrestler k√∂nnen seinen Druck als Entry nutzen",
            ],
            training: [
              "Pressure Entry ohne Stopp als Habit.",
              "Overhand und Left Hook als Power-Kombination.",
              "Konditions-Runden mit konstantem Output.",
            ],
            matchup:
              "Stark gegen Counter-Striker ohne starke Beinarbeit. Schwierig gegen Elite-Wrestler.",
            boxers: ["Justin Gaethje", "Dustin Poirier", "Nate Diaz"],
          },
          "Submission Opportunist": {
            center: [3, 3, 3, 1, 3, 3, 2],
            color: "#C9A84C",
            classic: "Scramble-heavy, Submission-Chains, risikobereit.",
            longdesc: [
              "Der Submission Opportunist ist der kreativste K√§mpfer im MMA.",
              "Sein System basiert auf Submission-Chains die nicht aufh√∂ren.",
              "Schw√§che: gegen einen methodischen Gegner der Positionen h√§lt.",
              "Training: Scramble-Drills aus allen Positionen.",
            ],
            strengths: [
              "√úberall gef√§hrlich ‚Äì auch aus dem Nachteil",
              "Schwer zu lesen und zu planen",
            ],
            weaknesses: [
              "Risikobereitschaft kann teuer werden",
              "Methodische Gegner testen sein System",
            ],
            training: [
              "Scramble-Drills: aus Turtle, Half Guard, Sprawl.",
              "Submission-Chains ohne Pause.",
              "Cage-Scrambles.",
            ],
            matchup:
              "Stark gegen Pressure Wrestler ohne Submission-Sensibilit√§t. Schwierig gegen methodische Positionskontroller.",
            boxers: ["Charles Oliveira", "Tony Ferguson", "Frank Mir"],
          },
          "Hybrid Tactical Fighter": {
            center: [2, 2, 2, 2, 2, 2, 2],
            color: "#8B5E3C",
            classic: "Kontrolle √ºber √úberg√§nge ‚Äì anpassungsf√§hig.",
            longdesc: [
              "Der Hybrid Tactical Fighter ist der vollst√§ndigste K√§mpfer im MMA.",
              "Er entscheidet, wann der Kampf ins Stehen, Clinch, oder Boden geht.",
              "Schw√§che: gegen absolute Elite-Spezialisten.",
              "Training: keine Vernachl√§ssigung einer Disziplin.",
            ],
            strengths: [
              "H√∂chste taktische Flexibilit√§t",
              "Schwer zu scouten",
              "Gef√§hrlich in allen Transitionen",
            ],
            weaknesses: [
              "Kein Feld auf absolutem Elite-Niveau",
              "Sehr hoher Trainingsaufwand",
            ],
            training: [
              "√úbergangsdrill: Strike ‚Üí Clinch ‚Üí Takedown als Fluss.",
              "Anti-Spezialisten-Sparring.",
              "Situational Sparring.",
            ],
            matchup:
              "Gut gegen fast alle Stile. Schwierig gegen absolute Elite-Spezialisten.",
            boxers: [
              "Alexander Volkanovski",
              "Georges St-Pierre",
              "Amanda Nunes",
            ],
          },
        },
      };

      SPORTS.muaythai = {
        attrs: [
          { key: "Di", label: "Distanzstruktur" },
          { key: "Of", label: "Offensivarchitektur" },
          { key: "Ki", label: "Kick-Philosophie" },
          { key: "Cl", label: "Clinch-Prinzip" },
          { key: "Df", label: "Defensives Prinzip" },
          { key: "Pr", label: "Pressure-Profil" },
          { key: "E", label: "Energiemodell" },
        ],
        attrLabels: {
          Di: [
            "Long Range / Teep",
            "Mid Range / Kick-Exchange",
            "Close Range / Clinch",
          ],
          Of: [
            "Einzeltechniken",
            "Strukturierte Kombis",
            "Rhythmus & T√§uschung",
          ],
          Ki: ["Damage-first", "Scoring-first", "Balance-breaking"],
          Cl: [
            "Kontrolle & Knie",
            "Sweeps & Off-Balancing",
            "Kurzer Clinch / Exit",
          ],
          Df: ["Distanz herstellen", "Block & Return", "Slip & Counter"],
          Pr: ["Control-Fighter", "Rhythmuswechsler", "Vorw√§rtsdruck"],
          E: ["Konstant", "Phasenweise", "Explosive Starts"],
        },
        questions: [
          {
            id: 1,
            attr: "Di",
            situation: "Du kannst den Austausch frei initiieren.",
            question: "Wo f√ºhlst du dich strukturell am stabilsten?",
            options: [
              {
                val: 1,
                label: "A",
                text: "Lang ‚Äì Teep, Jab und Distanzkicks.",
              },
              {
                val: 2,
                label: "B",
                text: "Mittel ‚Äì klassischer Thai-Kick-Exchange.",
              },
              {
                val: 3,
                label: "C",
                text: "Nah ‚Äì Klinch, Knie und Off-Balancing.",
              },
            ],
          },
          {
            id: 2,
            attr: "Di",
            situation:
              "Der Gegner versucht deine bevorzugte Distanz zu nehmen.",
            question: "Was passiert?",
            options: [
              {
                val: 1,
                label: "A",
                text: "Du nutzt Teep und seitliche Bewegung.",
              },
              {
                val: 2,
                label: "B",
                text: "Du akzeptierst den Exchange aus der Mitte.",
              },
              {
                val: 3,
                label: "C",
                text: "Du gehst tiefer rein und suchst Clinch.",
              },
            ],
          },
          {
            id: 3,
            attr: "Of",
            situation: "Du hast die Initiative und siehst eine M√∂glichkeit.",
            question: "Wie greifst du an?",
            options: [
              {
                val: 1,
                label: "A",
                text: "Du setzt eine dominante Einzeltechnik.",
              },
              {
                val: 2,
                label: "B",
                text: "Du bringst eine strukturierte Kombination.",
              },
              {
                val: 3,
                label: "C",
                text: "Du arbeitest mit T√§uschung und Rhythmuswechsel.",
              },
            ],
          },
          {
            id: 4,
            attr: "Of",
            situation: "Deine erste Aktion trifft nicht sauber.",
            question: "Was kommt danach?",
            options: [
              { val: 1, label: "A", text: "Du resettest und stellst neu auf." },
              {
                val: 2,
                label: "B",
                text: "Du kombinierst auf die n√§chste Aktion.",
              },
              {
                val: 3,
                label: "C",
                text: "Du wechselst Rhythmus und suchst anderen Winkel.",
              },
            ],
          },
          {
            id: 5,
            attr: "Ki",
            situation: "Du hast eine klare Kick-M√∂glichkeit.",
            question: "Wie nutzt du sie prim√§r?",
            options: [
              {
                val: 1,
                label: "A",
                text: "Du willst Schaden setzen ‚Äì harter Kick.",
              },
              {
                val: 2,
                label: "B",
                text: "Du willst sauber scoren ‚Äì pr√§ziser Kick.",
              },
              {
                val: 3,
                label: "C",
                text: "Du willst Balance brechen ‚Äì Sweep-Kick.",
              },
            ],
          },
          {
            id: 6,
            attr: "Ki",
            situation: "Der Gegner blockt deinen Kick.",
            question: "Was machst du?",
            options: [
              { val: 1, label: "A", text: "Du variierst Ziel oder Bein." },
              { val: 2, label: "B", text: "Du wechselst auf Punch-Kombi." },
              {
                val: 3,
                label: "C",
                text: "Du nutzt seinen Block f√ºr Sweep oder Clinch.",
              },
            ],
          },
          {
            id: 7,
            attr: "Cl",
            situation: "Du bist im Clinch.",
            question: "Was ist deine prim√§re Priorit√§t?",
            options: [
              {
                val: 1,
                label: "A",
                text: "Du kontrollierst Neck-Tie und setzt Knie.",
              },
              {
                val: 2,
                label: "B",
                text: "Du suchst Sweeps und Off-Balancing.",
              },
              { val: 3, label: "C", text: "Du verl√§sst den Clinch schnell." },
            ],
          },
          {
            id: 8,
            attr: "Cl",
            situation: "Der Gegner greift Clinch mit Dir.",
            question: "Wie antwortest du?",
            options: [
              {
                val: 1,
                label: "A",
                text: "Du nimmst Clinch an und arbeitest Knie.",
              },
              {
                val: 2,
                label: "B",
                text: "Du k√§mpfst den Clinch und suchst Balance-Vorteil.",
              },
              { val: 3, label: "C", text: "Du brichst den Clinch sofort." },
            ],
          },
          {
            id: 9,
            attr: "Df",
            situation: "Der Gegner initiiert eine Angriffsserie.",
            question: "Was passiert instinktiv?",
            options: [
              {
                val: 1,
                label: "A",
                text: "Du verwendest Teep oder Schritt zur√ºck.",
              },
              {
                val: 2,
                label: "B",
                text: "Du deckst und blockst, dann antwortest du.",
              },
              {
                val: 3,
                label: "C",
                text: "Du weichst aus und konterst im selben Moment.",
              },
            ],
          },
          {
            id: 10,
            attr: "Df",
            situation: "Der Gegner wirft einen harten Roundhouse.",
            question: "Deine Reaktion?",
            options: [
              { val: 1, label: "A", text: "Du gehst aus der Reichweite." },
              { val: 2, label: "B", text: "Du blockst und antwortest sofort." },
              {
                val: 3,
                label: "C",
                text: "Du catchst oder deflektierst und nutzt f√ºr Counter.",
              },
            ],
          },
          {
            id: 11,
            attr: "Pr",
            situation: "Mitte des Kampfes ‚Äì ausgeglichene Situation.",
            question: "Wie positionierst du dich taktisch?",
            options: [
              {
                val: 1,
                label: "A",
                text: "Du h√§ltst Scoring-Disziplin und kontrollierst geduldig.",
              },
              { val: 2, label: "B", text: "Du wechselst Tempo und Distanz." },
              {
                val: 3,
                label: "C",
                text: "Du erh√∂hst Vorw√§rtsdruck und erzwingst Exchanges.",
              },
            ],
          },
          {
            id: 12,
            attr: "Pr",
            situation: "Du hast Punkte-Vorsprung.",
            question: "Wie verh√§ltst du dich?",
            options: [
              { val: 1, label: "A", text: "Du verwaltest geduldig." },
              { val: 2, label: "B", text: "Du bleibst adaptiv." },
              { val: 3, label: "C", text: "Du suchst den Finish." },
            ],
          },
          {
            id: 13,
            attr: "E",
            situation: "Mitte der Runde.",
            question: "Wie ist dein Energiemuster?",
            options: [
              { val: 1, label: "A", text: "Konstant und kontrolliert." },
              {
                val: 2,
                label: "B",
                text: "Du wechselst zwischen Aktivit√§t und Pausen.",
              },
              {
                val: 3,
                label: "C",
                text: "Du wartest auf explosive Aktionsmomente.",
              },
            ],
          },
          {
            id: 14,
            attr: "E",
            situation: "Letzte 30 Sekunden der Runde.",
            question: "Was tust du?",
            options: [
              {
                val: 1,
                label: "A",
                text: "Du kontrollierst ruhig und sicherst Scoring.",
              },
              { val: 2, label: "B", text: "Du erh√∂hst Output dosiert." },
              { val: 3, label: "C", text: "Du explodierst maximal." },
            ],
          },
        ],
        archetypes: {
          "Muay Femur": {
            center: [1, 3, 2, 3, 1, 1, 1],
            color: "#5B99C2",
            classic: "Technisch, intelligent, kontrollierend.",
            longdesc: [
              "Der Muay Femur ist der technisch vollst√§ndigste K√§mpfer im Muay Thai.",
              "Sein Spielsystem ist multi-dimensional: er kann auf allen Distanzen arbeiten.",
              "Schw√§che: gegen Gegner mit extremem physischen Druck.",
              "Training: Technikpr√§zision √ºber alle Distanzen.",
            ],
            strengths: [
              "Technisch variabelster Stil",
              "Liest Gegner schneller als andere",
              "Adaptiv gegen alle Stile",
            ],
            weaknesses: [
              "Gegen extremen physischen Druck",
              "Braucht Raum f√ºr technisches Spiel",
            ],
            training: [
              "Technikpr√§zision t√§glich.",
              "Rhythmuswechsel als aktives Werkzeug.",
              "Gegner lesen nach jedem Sparring.",
            ],
            matchup:
              "Stark gegen alle Stile durch Anpassungsf√§higkeit. Schwierig gegen extrem aggressiven Muay Mat.",
            boxers: ["Saenchai", "Lerdsila", "Kongsak"],
          },
          "Muay Mat": {
            center: [2, 1, 3, 3, 2, 3, 3],
            color: "#C0392B",
            classic: "Punch-heavy, Druck, Power.",
            longdesc: [
              "Der Muay Mat ist der Power-Fighter des Muay Thai.",
              "Er priorisiert Punch-Kombinationen √ºber Kicks.",
              "Schw√§che: gegen den Muay Femur, der seine Linie verl√§sst.",
              "Training: Punch-Kombinationen unter Fatigue.",
            ],
            strengths: [
              "Extremes KO-Potential",
              "Hoher Punch-Output",
              "Stark im Infight",
            ],
            weaknesses: [
              "Kick-Arsenal oft weniger entwickelt",
              "Gegen pr√§zise lange Distanz-Fighter",
            ],
            training: [
              "1‚Äì2‚ÄìBody-Hook als Standardmuster.",
              "Ring-Cutting gegen Teep-Orientierte.",
              "K√∂rperarbeit als System.",
            ],
            matchup:
              "Stark gegen station√§re Fighter. Schwierig gegen Muay Femur mit guter Distanz.",
            boxers: ["Rodtang Jitmuangnon", "Muangthai", "Nieky Holzken"],
          },
          "Muay Khao": {
            center: [3, 2, 3, 1, 2, 2, 2],
            color: "#C9A84C",
            classic: "Clinch & Knie dominierend.",
            longdesc: [
              "Der Muay Khao ist der Clinch-Spezialist des Muay Thai.",
              "Er sucht N√§he, um dort zu dominieren.",
              "Schw√§che: gegen K√§mpfer mit exzellentem Clinch-Break.",
              "Training: Neck-Tie-Mechanik und Knie-Positionen.",
            ],
            strengths: [
              "Dominant im Clinch",
              "Knie-Volumen und Kontrolle",
              "Stark in Thai-Stadium-Scoring",
            ],
            weaknesses: [
              "Gegen exzellenten Clinch-Break",
              "Distanzarbeit oft weniger entwickelt",
            ],
            training: [
              "Neck-Tie-Kontrolle t√§glich.",
              "Sweep-System als strukturierte Strategie.",
              "Ring-Cutting erzwingen.",
            ],
            matchup:
              "Stark gegen Muay Mat. Schwierig gegen Muay Femur mit gutem Clinch-Break.",
            boxers: ["Dieselnoi", "Petchboonchu", "Jongsanan"],
          },
          "Muay Tae": {
            center: [1, 1, 1, 3, 1, 1, 1],
            color: "#7EB8D4",
            classic: "Kick-dominant, Distanzarbeit, Teep-Intelligenz.",
            longdesc: [
              "Der Muay Tae ist der Kick-Spezialist.",
              "Sein Teep ist sein wichtigstes Werkzeug.",
              "Schw√§che: gegen Muay Khao der Distanz √ºberwindet.",
              "Training: Kick-Variationen und Setups.",
            ],
            strengths: [
              "Kick-Qualit√§t und Reichweite",
              "Teep als Distanz-Kontrolle",
              "Schwer zu treffen im Kick-Game",
            ],
            weaknesses: [
              "Gegen Clinch-Spezialisten",
              "Anf√§llig wenn Distanz gebrochen wird",
            ],
            training: [
              "Teep-Variationen als System.",
              "Roundhouse-Setup: Jab ‚Üí K√∂rperkick.",
              "Distanzmanagement unter Pressure.",
            ],
            matchup:
              "Stark gegen Muay Mat ohne Distanz-Management. Schwierig gegen Muay Khao.",
            boxers: ["Yodsanklai", "Superlek", "Sitthichai"],
          },
          "Hybrid Stadium Fighter": {
            center: [2, 2, 2, 2, 2, 2, 2],
            color: "#8B5E3C",
            classic: "Adaptiv, rhythmus-basiert.",
            longdesc: [
              "Der Hybrid Stadium Fighter ist der taktisch intelligenteste Muay Thai K√§mpfer.",
              "Er hat kein einzelnes dominantes Muster, sondern die F√§higkeit anzupassen.",
              "Schw√§che: gegen Extremspezialisten.",
              "Training: alle Bereiche auf kompetentes Niveau.",
            ],
            strengths: [
              "H√∂chste taktische Flexibilit√§t",
              "Schwer zu scouten",
              "Scoring-intelligent",
            ],
            weaknesses: [
              "Kein Feld auf Elite-Niveau",
              "Absolute Spezialisten k√∂nnen punktuell dominieren",
            ],
            training: [
              "Alle Distanzen kompetent halten.",
              "Taktische Anpassung trainieren.",
              "Scoring-Logik verstehen.",
            ],
            matchup:
              "Gut gegen alle Stile durch Anpassung. Schwierig gegen absolute Elite-Spezialisten.",
            boxers: ["Buakaw", "Yodsanklai (Mid-Career)", "Petchtanong"],
          },
        },
      };

      // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
      // GENERIC SPORTS ENGINE (Boxing, MMA, Muay Thai)
      // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
      const answers = { boxing: {}, mma: {}, muaythai: {} };

      function buildQuiz(sport) {
        const data = SPORTS[sport];
        const container = document.getElementById("qc-" + sport);
        container.innerHTML = "";
        let lastAttr = null;
        data.questions.forEach((q, idx) => {
          if (q.attr !== lastAttr) {
            lastAttr = q.attr;
            const attr = data.attrs.find((a) => a.key === q.attr);
            const h = document.createElement("div");
            h.className = "attr-section-header";
            h.innerHTML =
              '<span class="attr-key-badge">' + q.attr + "</span>" + attr.label;
            container.appendChild(h);
          }
          const block = document.createElement("div");
          block.className = "q-block";
          block.id = "qblock-" + sport + "-" + q.id;
          block.innerHTML = `<div class="q-header"><div class="q-num" id="qnum-${sport}-${q.id}">${String(idx + 1).padStart(2, "0")}</div><div style="flex:1"><div class="q-situation">${q.situation}</div><div class="q-title">${q.question}</div></div></div>
    <div class="options-grid">${q.options.map((o) => `<div class="opt-card" id="opt-${sport}-${q.id}-${o.val}" onclick="selectOption('${sport}',${q.id},${o.val})"><div class="opt-letter">${o.label}</div><div class="opt-text">${o.text}</div></div>`).join("")}</div>`;
          container.appendChild(block);
        });
        updateProgress(sport);
      }

      function selectOption(sport, qid, val) {
        answers[sport][qid] = val;
        const q = SPORTS[sport].questions.find((q) => q.id === qid);
        q.options.forEach((o) => {
          const el = document.getElementById(
            "opt-" + sport + "-" + qid + "-" + o.val,
          );
          if (el) el.classList.toggle("selected", o.val === val);
        });
        document
          .getElementById("qblock-" + sport + "-" + qid)
          .classList.add("answered");
        document.getElementById("qnum-" + sport + "-" + qid).style.color =
          "var(--accent2)";
        updateProgress(sport);
      }

      function updateProgress(sport) {
        const count = Object.keys(answers[sport]).length,
          total = SPORTS[sport].questions.length;
        document.getElementById("pf-" + sport).style.width =
          (count / total) * 100 + "%";
        document.getElementById("pt-" + sport).textContent =
          count + " / " + total;
        const btn = document.getElementById("bs-" + sport);
        btn.disabled = count < total;
        document.getElementById("ci-" + sport).textContent =
          count < total
            ? "Noch " + (total - count) + " Frage(n) offen."
            : "Alle Antworten vollst√§ndig ‚Äì bereit.";
      }

      function computeResults(sport) {
        const data = SPORTS[sport];
        const ans = answers[sport];
        const vec = data.attrs.map((attr) => {
          const qs = data.questions.filter((q) => q.attr === attr.key);
          const avg = qs.reduce((s, q) => s + (ans[q.id] || 2), 0) / qs.length;
          return Math.min(3, Math.max(1, Math.round(avg)));
        });
        const scores = Object.entries(data.archetypes)
          .map(([name, arch]) => ({
            name,
            dist: arch.center.reduce((s, c, i) => s + Math.abs(c - vec[i]), 0),
          }))
          .sort((a, b) => a.dist - b.dist);
        const best = scores[0],
          second = scores[1];
        const confidence = Math.round(100 * (1 - best.dist / 14));
        return { vec, scores, best, second, confidence };
      }

      function drawRadar(sport, vec, center, color) {
        const canvas = document.getElementById("radar-" + sport);
        if (!canvas) return;
        const ctx = canvas.getContext("2d");
        const W = canvas.width,
          H = canvas.height,
          cx = W / 2,
          cy = H / 2 + 8,
          R = Math.min(W, H) * 0.34;
        const N = vec.length;
        const labels = SPORTS[sport].attrs.map((a) => a.key);
        const angles = Array.from(
          { length: N },
          (_, i) => (i / N) * 2 * Math.PI - Math.PI / 2,
        );
        ctx.clearRect(0, 0, W, H);
        [1, 2, 3].forEach((level) => {
          ctx.beginPath();
          angles.forEach((a, i) => {
            const r = (level / 3) * R,
              x = cx + r * Math.cos(a),
              y = cy + r * Math.sin(a);
            i === 0 ? ctx.moveTo(x, y) : ctx.lineTo(x, y);
          });
          ctx.closePath();
          ctx.strokeStyle = "rgba(0,0,0,0.09)";
          ctx.lineWidth = 1;
          ctx.stroke();
        });
        angles.forEach((a) => {
          ctx.beginPath();
          ctx.moveTo(cx, cy);
          ctx.lineTo(cx + R * Math.cos(a), cy + R * Math.sin(a));
          ctx.strokeStyle = "rgba(0,0,0,0.09)";
          ctx.lineWidth = 1;
          ctx.stroke();
        });
        function poly(data, fill, stroke, dash) {
          ctx.beginPath();
          data.forEach((v, i) => {
            const r = ((v - 1) / 2) * R + R * 0.1,
              x = cx + r * Math.cos(angles[i]),
              y = cy + r * Math.sin(angles[i]);
            i === 0 ? ctx.moveTo(x, y) : ctx.lineTo(x, y);
          });
          ctx.closePath();
          ctx.fillStyle = fill;
          ctx.fill();
          ctx.strokeStyle = stroke;
          ctx.lineWidth = 2;
          if (dash) ctx.setLineDash(dash);
          ctx.stroke();
          ctx.setLineDash([]);
        }
        poly(center, color + "12", color + "44", [4, 4]);
        poly(vec, "rgba(138,106,31,0.07)", "#8a6a1f", []);
        vec.forEach((v, i) => {
          const r = ((v - 1) / 2) * R + R * 0.1,
            x = cx + r * Math.cos(angles[i]),
            y = cy + r * Math.sin(angles[i]);
          ctx.beginPath();
          ctx.arc(x, y, 4, 0, Math.PI * 2);
          ctx.fillStyle = "#8a6a1f";
          ctx.fill();
        });
        ctx.font = "bold 10px monospace";
        ctx.fillStyle = "#8a8278";
        ctx.textAlign = "center";
        ctx.textBaseline = "middle";
        angles.forEach((a, i) =>
          ctx.fillText(
            labels[i],
            cx + (R + 20) * Math.cos(a),
            cy + (R + 20) * Math.sin(a),
          ),
        );
        ctx.font = "10px sans-serif";
        ctx.textAlign = "left";
        ctx.fillStyle = "#8a6a1f";
        ctx.beginPath();
        ctx.arc(18, H - 24, 3.5, 0, Math.PI * 2);
        ctx.fill();
        ctx.fillStyle = "#5a4a30";
        ctx.fillText("Du", 27, H - 24);
        ctx.fillStyle = color + "99";
        ctx.setLineDash([3, 3]);
        ctx.beginPath();
        ctx.moveTo(48, H - 24);
        ctx.lineTo(63, H - 24);
        ctx.stroke();
        ctx.setLineDash([]);
        ctx.fillStyle = "#8a8278";
        ctx.fillText("Archetyp", 67, H - 24);
      }

      function showResults(sport) {
        const { vec, scores, best, second, confidence } = computeResults(sport);
        const data = SPORTS[sport];
        const arch = data.archetypes[best.name];
        document.getElementById("quiz-" + sport).style.display = "none";
        const ra = document.querySelector(".results-area-" + sport);
        ra.style.display = "block";
        ra.scrollIntoView({ behavior: "smooth" });
        const rh = document.getElementById("rh-" + sport);
        rh.setAttribute("data-style", best.name.toUpperCase());
        rh.innerHTML = `${renderArchImage(best.name, arch.color, "result")}<div class="result-label">Dein Kampfstil-Profil</div><div class="result-name">${best.name}</div><div class="result-desc">${arch.classic}</div>
  <div class="kpi-row"><div class="kpi"><div class="kpi-label">Stiltyp</div><div class="kpi-val">${best.name.split(" ")[0]}</div></div><div class="kpi"><div class="kpi-label">Abstand</div><div class="kpi-val">${best.dist}</div></div><div class="kpi"><div class="kpi-label">Sicherheit</div><div class="kpi-val">${confidence}%</div></div></div>
  ${second.dist - best.dist <= 1 ? `<div class="hybrid-notice">Sehr nah an "${second.name}" (Abstand ${second.dist}) ‚Äì plausibles Hybrid-Profil.</div>` : ""}`;
        document.getElementById("dd-" + sport).innerHTML = arch.longdesc
          .map(
            (p, i) =>
              `<p class="deepdive-intro${i > 0 ? " deepdive-body" : ""}">${p}</p>`,
          )
          .join("");
        document.getElementById("sw-" + sport).innerHTML =
          `<div class="sw-box"><div class="sw-title pos">St√§rken</div><ul class="sw-list">${arch.strengths.map((s) => `<li class="pos">${s}</li>`).join("")}</ul></div><div class="sw-box"><div class="sw-title neg">Schw√§chen</div><ul class="sw-list">${arch.weaknesses.map((w) => `<li class="neg">${w}</li>`).join("")}</ul></div>`;
        setTimeout(() => drawRadar(sport, vec, arch.center, arch.color), 80);
        document.getElementById("br-" + sport).innerHTML = arch.boxers
          .map((b) => `<div class="boxer-chip">${b}</div>`)
          .join("");
        document.getElementById("tl-" + sport).innerHTML = arch.training
          .map((t) => `<li>${t}</li>`)
          .join("");
        document.getElementById("mb-" + sport).innerHTML =
          `<strong>MATCHUP-HINWEIS</strong><br><br>${arch.matchup}`;
        const maxD = Math.max(...scores.map((s) => s.dist)) || 1;
        document.getElementById("db-" + sport).innerHTML = scores
          .map(
            (s) =>
              `<div class="dist-bar-row"><div class="dist-bar-header"><span class="dist-bar-name">${s.name}</span><span class="dist-bar-val">${s.dist}</span></div><div class="dist-track"><div class="dist-fill" style="width:${((maxD - s.dist) / maxD) * 100 || 4}%;background:${s.name === best.name ? arch.color : "#d8d2c8"}"></div></div></div>`,
          )
          .join("");
        document.getElementById("at-" + sport).innerHTML = data.attrs
          .map((attr) => {
            const idx = data.attrs.indexOf(attr);
            const label = data.attrLabels[attr.key][vec[idx] - 1];
            const qs = data.questions.filter((q) => q.attr === attr.key);
            return `<div class="answer-group"><div class="answer-group-header"><div><div class="ans-key">${attr.key}</div><div class="ans-attr-label">${attr.label}</div></div><div class="ans-result-badge">${label}</div></div><div class="ans-q-rows">${qs
              .map((q) => {
                const opt = q.options.find(
                  (o) => o.val === answers[sport][q.id],
                );
                return `<div class="ans-q-row"><span class="ans-q-label">${opt.label}</span><span class="ans-q-text">${opt.text}</span><span class="ans-q-situation">${q.situation}</span></div>`;
              })
              .join("")}</div></div>`;
          })
          .join("");
      }

      function resetTest(sport) {
        answers[sport] = {};
        document.querySelector(".results-area-" + sport).style.display = "none";
        document.getElementById("quiz-" + sport).style.display = "block";
        buildQuiz(sport);
        window.scrollTo({ top: 0, behavior: "smooth" });
      }

      // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
      // LIBRARY (Boxing, MMA, Muay Thai ‚Äì generic builder)
      // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
      function buildLibrary() {
        ["boxing", "mma", "muaythai"].forEach((sport) => {
          const data = SPORTS[sport];
          const container = document.getElementById("lib-" + sport);
          const sportLabel = {
            boxing: "Boxen",
            mma: "MMA",
            muaythai: "Muay Thai",
          }[sport];
          const emoji = { boxing: "ü•ä", mma: "üèÜ", muaythai: "ü•ä" }[sport];
          let html = `<div style="display:flex;align-items:baseline;justify-content:space-between;margin-bottom:20px;padding-bottom:12px;border-bottom:1px solid var(--border);">
      <div style="font-family:var(--font-display);font-size:22px;letter-spacing:1px;color:var(--accent);">${emoji} ${sportLabel.toUpperCase()} ‚Äì ARCHETYPEN</div>
      <button class="lib-start-btn" onclick="showPage('${sport}')">TEST STARTEN</button>
    </div><div class="lib-archetypes-grid">`;
          Object.entries(data.archetypes).forEach(([name, arch]) => {
            const key = name.replace(/[^a-z]/gi, "");
            html += `<div class="lib-archetype-card" id="lib-card-${sport}-${key}" onclick="toggleLibCard('${sport}','${key}')">
        <div class="lib-card-header"><div class="lib-card-color" style="background:${arch.color}"></div><div class="lib-card-titles"><div class="lib-card-name">${name}</div><div class="lib-card-sub">${arch.classic.substring(0, 60)}...</div></div><div class="lib-card-chevron">‚ñº</div></div>
        <div class="lib-card-body">
          ${renderArchImage(name, arch.color, "lib")}
          ${arch.longdesc.map((p, i) => `<p class="lib-body-desc${i > 0 ? " muted" : ""}">${p}</p>`).join("")}
          <div class="lib-sw-row">
            <div class="lib-sw-box"><div class="lib-sw-title pos">St√§rken</div><ul class="lib-sw-list">${arch.strengths.map((s) => `<li class="pos">${s}</li>`).join("")}</ul></div>
            <div class="lib-sw-box"><div class="lib-sw-title neg">Schw√§chen</div><ul class="lib-sw-list">${arch.weaknesses.map((w) => `<li class="neg">${w}</li>`).join("")}</ul></div>
          </div>
          <div class="lib-matchup-box"><strong>MATCHUP:</strong> ${arch.matchup}</div>
          <div class="lib-boxers">${arch.boxers.map((b) => `<div class="lib-boxer-chip">${b}</div>`).join("")}</div>
        </div>
      </div>`;
          });
          html += "</div>";
          html += `<div class="lib-compare-section"><div class="lib-compare-title">STILVERGLEICH: ${sportLabel.toUpperCase()}</div><div style="overflow-x:auto"><table class="lib-compare-table">
      <thead><tr><th>Stil</th><th>St√§rkstes Feld</th><th>Schw√§chstes Feld</th><th>Vs. wem stark</th><th>Vs. wem schwierig</th></tr></thead><tbody>`;
          Object.entries(data.archetypes).forEach(([name, arch]) => {
            html += `<tr><td><div class="lib-compare-name"><div class="lib-dot" style="background:${arch.color}"></div>${name}</div></td><td style="color:#4a7c4e;font-size:12px">${arch.strengths[0]}</td><td style="color:#9b3a2f;font-size:12px">${arch.weaknesses[0]}</td><td style="font-size:12px">${arch.matchup.split(".")[0]}.</td><td style="font-size:12px">${arch.matchup.split(".")[1] || "‚Äì"}.</td></tr>`;
          });
          html += "</tbody></table></div></div>";
          container.innerHTML = html;
        });
        buildBJJLibrary();
      }

      // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
      // INIT
      // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
      ["boxing", "mma", "muaythai"].forEach((sport) => buildQuiz(sport));
      buildBJJQuiz();
      buildLibrary();
    </script>

    <!-- IMPRESSUM -->
    <div id="page-impressum" class="page">
      <div class="legal-page">
        <div class="legal-header">
          <div class="header-label">Pflichtangaben nach ¬ß5 TMG</div>
          <h2>IMPRESSUM</h2>
        </div>
        <div class="legal-body">
          <div class="legal-section">
            <h3>Angaben gem√§√ü ¬ß5 TMG</h3>
            <p>
              <strong>Lom-Ali Imadaev</strong><br />Kreuzstra√üe 1<br />82276
              Adelshofen<br />Deutschland
            </p>
          </div>
          <div class="legal-section">
            <h3>Kontakt</h3>
            <p>
              E-Mail:
              <a href="mailto:lom.ali.imadaev@gmail.com"
                >lom.ali.imadaev@gmail.com</a
              >
            </p>
          </div>
          <div class="legal-section">
            <h3>Verantwortlich f√ºr den Inhalt nach ¬ß55 Abs. 2 RStV</h3>
            <p>Lom-Ali Imadaev<br />Kreuzstra√üe 1<br />82276 Adelshofen</p>
          </div>
          <div class="legal-section">
            <h3>Haftung f√ºr Inhalte</h3>
            <p>
              Als Diensteanbieter sind wir gem√§√ü ¬ß7 Abs. 1 TMG f√ºr eigene
              Inhalte verantwortlich. Die Inhalte dieser Seite dienen
              ausschlie√ülich der allgemeinen Information und ersetzen keine
              professionelle Beratung.
            </p>
          </div>
          <div class="legal-section">
            <h3>Urheberrecht</h3>
            <p>
              Die durch den Seitenbetreiber erstellten Inhalte unterliegen dem
              deutschen Urheberrecht.
            </p>
          </div>
          <div class="legal-section">
            <h3>Streitschlichtung</h3>
            <p>
              Die Europ√§ische Kommission stellt eine Plattform zur
              Online-Streitbeilegung bereit:
              <a href="https://ec.europa.eu/consumers/odr/" target="_blank"
                >https://ec.europa.eu/consumers/odr/</a
              >.
            </p>
          </div>
        </div>
      </div>
    </div>

    <!-- DATENSCHUTZ -->
    <div id="page-datenschutz" class="page">
      <div class="legal-page">
        <div class="legal-header">
          <div class="header-label">DSGVO-konform</div>
          <h2>DATENSCHUTZ&shy;ERKL√ÑRUNG</h2>
        </div>
        <div class="legal-body">
          <div class="legal-section">
            <h3>1. Verantwortlicher</h3>
            <p>
              <strong>Lom-Ali Imadaev</strong><br />Kreuzstra√üe 1, 82276
              Adelshofen<br />E-Mail:
              <a href="mailto:lom.ali.imadaev@gmail.com"
                >lom.ali.imadaev@gmail.com</a
              >
            </p>
          </div>
          <div class="legal-section">
            <h3>2. Allgemeines zur Datenverarbeitung</h3>
            <p>
              Diese Website ist eine vollst√§ndig clientseitige
              Single-Page-Application.
              <strong
                >Wir erheben, speichern und verarbeiten keine personenbezogenen
                Daten aktiv.</strong
              >
              Alle Testergebnisse werden ausschlie√ülich lokal im Arbeitsspeicher
              berechnet und nicht √ºbertragen.
            </p>
          </div>
          <div class="legal-section">
            <h3>3. Hosting √ºber GitHub Pages</h3>
            <p>
              Diese Website wird √ºber <strong>GitHub Pages</strong> gehostet.
              Beim Aufruf werden durch GitHub automatisch Server-Logfiles
              gespeichert (IP-Adresse, Datum/Uhrzeit, Browser, Betriebssystem).
            </p>
          </div>
          <div class="legal-section">
            <h3>4. Keine Cookies</h3>
            <p>Diese Website verwendet <strong>keine Cookies</strong>.</p>
          </div>
          <div class="legal-section">
            <h3>5. Keine Analyse- oder Tracking-Tools</h3>
            <p>
              Diese Website verwendet
              <strong
                >kein Google Analytics, kein Matomo, kein Facebook Pixel</strong
              >
              oder sonstige Tracking-Werkzeuge.
            </p>
          </div>
          <div class="legal-section">
            <h3>6. Schriften</h3>
            <p>
              Diese Website verwendet ausschlie√ülich
              <strong>System-Schriftarten</strong>. Es werden keine Schriftarten
              von externen Servern geladen.
            </p>
          </div>
        </div>
      </div>
    </div>

    <!-- FOOTER -->
    <footer id="site-footer">
      <div class="footer-inner">
        <div class="footer-logo">KAMPFSTIL ANALYSE</div>
        <div class="footer-links">
          <span onclick="showPage('impressum')">Impressum</span>
          <span onclick="showPage('datenschutz')">Datenschutz</span>
        </div>
        <div class="footer-note">
          Keine Cookies ¬∑ Kein Tracking ¬∑ Kein externer Datenfluss
        </div>
      </div>
    </footer>
  </body>
</html>
